/* === CHECKBOX CUSTOM === */
.v-checkbox {
  --checkbox-size: 22px;
  --checkbox-radius: 6px;

  /* Structure de base */
  .v-selection-control__input {
    width: var(--checkbox-size);
    height: var(--checkbox-size);
    border: 2px solid rgb(var(--v-theme-darkbg)) !important;
    border-radius: var(--checkbox-radius);
    background-color: transparent !important;
    position: relative;
    display: flex;
    align-items: center;
    justify-content: center;
    box-shadow: none !important;
    cursor: pointer;
    transition:
      background-color 0.2s ease,
      border-color 0.2s ease,
      transform 0.12s ease;
  }

  /* ðŸ‘‡ Masquer les icÃ´nes Vuetify */
  .v-icon,
  .v-selection-control__wrapper .v-selection-control__input i {
    display: none !important;
  }

  /* âœ… Coche (dessinÃ©e via CSS, remplace mdi-checkbox-marked) */
  .v-selection-control__input::after {
    content: '';
    position: absolute;
    width: 45%;
    height: 25%;
    border-left: 2px solid transparent;
    border-bottom: 2px solid transparent;
    transform: rotate(-45deg) scale(0);
    transform-origin: center;
    transition:
      border-color 0.2s ease,
      transform 0.2s ease;
  }

  /* âœ… Ã‰tat cochÃ© */
  &.v-selection-control--dirty .v-selection-control__input {
    background-color: rgb(var(--v-theme-darkbg)) !important;
    border-color: rgb(var(--v-theme-darkbg)) !important;
  }

  &.v-selection-control--dirty .v-selection-control__input::after {
    border-left-color: rgb(var(--v-theme-background));
    border-bottom-color: rgb(var(--v-theme-background));
    transform: rotate(-45deg) scale(1);
  }

  /* âœ… Hover */
  &:not(.v-selection-control--disabled):hover .v-selection-control__input {
    border-color: rgba(var(--v-theme-darkbg), 0.85) !important;
    background-color: rgba(var(--v-theme-darkbg), 0.05) !important;
  }

  &:not(.v-selection-control--disabled):hover.v-selection-control--dirty
    .v-selection-control__input {
    background-color: rgba(var(--v-theme-darkbg), 0.92) !important;
    border-color: rgba(var(--v-theme-darkbg), 0.92) !important;
  }

  /* âœ… DÃ©sactivÃ©e */
  &.v-selection-control--disabled .v-selection-control__input {
    opacity: 0.5;
    cursor: not-allowed;
  }
}
