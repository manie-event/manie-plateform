import{x as W,z as X,d as P,C as Q,j as S,r as n,c as E,a as i,h as U,e as o,u as s,E as H,b as e,o as q,F as L,w as t,f,m as j,g as $,t as w,n as A,l as R,G as Y,B as F,H as Z}from"./lwjdZeOp.js";import{_ as ee}from"./DpQbG3ZV.js";/* empty css        */import{I as k}from"./Cx9cfM4t.js";import{f as te}from"./D2Ucf6zj.js";import"./CCSKKWu6.js";const G=W({id:"email",state:()=>({emails:[],selectedEmail:null}),actions:{toggleStarred(g){const l=this.emails.find(_=>_.id===g);l&&(l.starred=!l.starred)},toggleImportant(g){const l=this.emails.find(_=>_.id===g);l&&(l.important=!l.important)},async fetchEmails(){try{const g=await X.get("/api/data/email/EmailData");this.emails=g.data}catch(g){alert(g),console.log(g)}},selectEmail(g){this.selectedEmail=g},deleteEmail(g){this.emails=this.emails.filter(l=>l.id!==g),this.selectedEmail=null}}}),le={class:"d-flex mainbox"},oe={key:0,class:"compose pa-6"},ae={class:"mail-list"},se={class:"mail-details pa-6 d-md-block d-none"},ne=P({__name:"AppEmailCard",setup(g){const{lgAndUp:l}=Q();S(!1);const _=S(!1),b=S(null),h=u=>{b.value=u,_.value=!0};return(u,a)=>{const x=n("v-divider");return i(),E("div",le,[s(l)?(i(),E("div",oe,[H(u.$slots,"mailCompose")])):U("",!0),o("div",ae,[e(x,{class:"d-lg-none d-block"}),H(u.$slots,"mailList",{openEmailDetails:h})]),o("div",se,[H(u.$slots,"mailDetail")])])}}}),N=P({__name:"EmailCompose",emits:["filter-change"],setup(g,{emit:l}){const _=[{id:2,name:"inbox",icon:"solar:inbox-line-broken"},{id:3,name:"sent",icon:"solar:plain-2-linear"},{id:4,name:"draft",icon:"solar:notes-linear"},{id:5,name:"spam",icon:"solar:flag-2-outline"},{id:6,name:"trash",icon:"solar:trash-bin-trash-outline"},{id:7,name:"starred",icon:"solar:star-fall-minimalistic-2-line-duotone"},{id:8,name:"important",icon:"solar:bell-bing-linear"},{id:10,name:"promotional",icon:"solar:folder-open-linear",color:"primary"},{id:11,name:"social",icon:"solar:folder-open-linear",color:"error"},{id:12,name:"health",icon:"solar:folder-open-linear",color:"success"}],b=S("inbox"),h=l,u=x=>{b.value=x,h("filter-change",x)};q(()=>{u("inbox")});const a=S(!1);return(x,r)=>{const V=n("v-btn"),C=n("v-list-item-title"),p=n("v-list-item"),c=n("v-list"),v=n("v-card-title"),z=n("v-text-field"),D=n("v-textarea"),I=n("v-file-input"),y=n("v-form"),B=n("v-card-text"),T=n("v-card-actions"),m=n("v-card"),M=n("v-dialog");return i(),E(L,null,[o("div",null,[e(V,{color:"primary",class:"w-100 rounded-pill",onClick:r[0]||(r[0]=d=>a.value=!0)},{default:t(()=>r[3]||(r[3]=[f("compose")])),_:1,__:[3]}),e(c,{class:"my-4 theme-list"},{default:t(()=>[(i(!0),E(L,null,j(_.slice(0,5),d=>(i(),$(p,{key:d.id,value:d,color:"primary",rounded:"md",class:A(["mail-items",{"active bg-light text-primary":b.value===d.name}]),onClick:O=>u(d.name)},{prepend:t(()=>[e(s(k),{icon:d.icon,height:"18"},null,8,["icon"])]),default:t(()=>[e(C,{class:"ms-3 text-capitalize"},{default:t(()=>[f(w(d.name),1)]),_:2},1024)]),_:2},1032,["value","class","onClick"]))),128)),e(C,{class:"mt-4 mb-2 border-t pt-5 text-uppercase text-12 font-weight-semibold"},{default:t(()=>r[4]||(r[4]=[f("Sort By")])),_:1,__:[4]}),(i(!0),E(L,null,j(_.slice(5,7),d=>(i(),$(p,{key:d.id,value:d,color:"primary",rounded:"md",class:A(["mail-items",{"active bg-light text-primary":b.value===d.name}]),onClick:O=>u(d.name)},{prepend:t(()=>[e(s(k),{icon:d.icon,height:"18"},null,8,["icon"])]),default:t(()=>[e(C,{class:"ms-3 text-capitalize"},{default:t(()=>[f(w(d.name),1)]),_:2},1024)]),_:2},1032,["value","class","onClick"]))),128)),e(C,{class:"mt-4 mb-2 border-t pt-5 text-uppercase text-12 font-weight-semibold"},{default:t(()=>r[5]||(r[5]=[f("Labels")])),_:1,__:[5]}),(i(!0),E(L,null,j(_.slice(7),d=>(i(),$(p,{key:d.id,value:d,color:"primary",rounded:"md",class:A(["mail-items",{"active bg-bglight text-primary":b.value===d.name}]),onClick:O=>u(d.name)},{prepend:t(()=>[e(s(k),{icon:d.icon,height:"18",class:A("text-"+d.color)},null,8,["icon","class"])]),default:t(()=>[e(C,{class:"ms-3 text-capitalize"},{default:t(()=>[f(w(d.name),1)]),_:2},1024)]),_:2},1032,["value","class","onClick"]))),128))]),_:1})]),e(M,{modelValue:a.value,"onUpdate:modelValue":r[2]||(r[2]=d=>a.value=d),"max-width":"500px"},{default:t(()=>[e(m,null,{default:t(()=>[e(v,{class:"pa-4 bg-primary"},{default:t(()=>r[6]||(r[6]=[f("Compose Mail")])),_:1,__:[6]}),e(B,null,{default:t(()=>[e(y,null,{default:t(()=>[e(z,{label:"To",required:""}),e(z,{label:"Subject",required:""}),e(D,{label:"Message",rows:"4",required:""}),e(I,{"prepend-icon":"null","append-icon":"null",label:"Attachment",variant:"outlined","hide-details":"",class:"w-100 mx-0 no-icon"})]),_:1})]),_:1}),e(T,{class:"ga-3"},{default:t(()=>[e(V,{color:"error",rounded:"pill",variant:"flat",class:"px-5",onClick:r[1]||(r[1]=d=>a.value=!1)},{default:t(()=>r[7]||(r[7]=[f("Cancel")])),_:1,__:[7]}),e(V,{color:"primary",rounded:"pill",class:"px-5",variant:"flat"},{default:t(()=>r[8]||(r[8]=[f("Send")])),_:1,__:[8]})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64)}}}),ie={key:0},re=["onClick"],ce={class:"d-flex align-center justify-space-between"},de={class:"d-flex align-center"},me={class:"text-14 font-weight-semibold email-title"},ue={class:"ps-8 mt-n1"},_e={class:"text-truncate text-14"},pe={class:"d-flex align-center justify-space-between mt-3"},ve={class:"d-flex align-center ga-2"},fe=["onClick"],ge=["onClick"],he=["onClick"],be={class:"text-muted"},xe={key:1},ye={class:"px-6"},J=P({__name:"EmailListing",props:{emails:{}},setup(g){const l=g,_=G(),b=S(null),h=S([]),u=S(""),a=R(()=>l.emails.filter(c=>c.from.toLowerCase().includes(u.value.toLowerCase()))),x=c=>{b.value=c,_.selectEmail(c)},r=c=>{const v=h.value.findIndex(z=>z.id===c.id);v===-1?h.value.push(c):h.value.splice(v,1)},V=c=>{_.deleteEmail(c.id),h.value=h.value.filter(v=>v.id!==c.id)};R(()=>h.value.length>0),q(()=>{l.emails.length>0&&(b.value=l.emails[0],_.selectEmail(l.emails[0]))}),Y(()=>l.emails,c=>{c.length>0&&!b.value&&(b.value=c[0],_.selectEmail(c[0]))},{immediate:!0});const C=c=>{_.toggleStarred(c.id)},p=c=>{_.toggleImportant(c.id)};return(c,v)=>{const z=n("v-text-field"),D=n("v-checkbox"),I=n("v-chip"),y=n("v-icon"),B=n("v-alert"),T=n("perfect-scrollbar");return i(),E("div",null,[e(z,{modelValue:u.value,"onUpdate:modelValue":v[0]||(v[0]=m=>u.value=m),label:"Search Emails",variant:"outlined","hide-details":"",class:"w-100 mb-1 pa-6",density:"compact",onClick:v[1]||(v[1]=F(()=>{},["stop"]))},{"prepend-inner":t(()=>[e(s(k),{icon:"solar:magnifer-linear",height:"18",width:"25"})]),_:1},8,["modelValue"]),e(T,{class:"max-h-600"},{default:t(()=>[a.value.length?(i(),E("div",ie,[(i(!0),E(L,null,j(a.value,m=>(i(),E("div",{key:m.id,class:A(["email-items cursor-pointer",{"selected-email bg-bglight":m===b.value}]),onClick:M=>x(m)},[o("div",ce,[o("div",de,[e(D,{"hide-details":"",color:"primary",class:"ms-n2","model-value":h.value.includes(m),onChange:M=>r(m)},null,8,["model-value","onChange"]),o("h6",me,w(m.from),1)]),e(I,{class:"text-12",color:m.label==="Promotional"?"primary":m.label==="Social"?"error":m.label==="Health"?"success":"secondary",variant:"flat",size:"small",rounded:"pill",label:""},{default:t(()=>[f(w(m.label),1)]),_:2},1032,["color"])]),o("div",ue,[o("p",_e,w(m.subject),1),o("div",pe,[o("div",ve,[o("button",{onClick:F(M=>C(m),["stop"])},[m.starred?(i(),$(s(k),{key:0,icon:"solar:star-bold",height:"15",class:"text-warning"})):(i(),$(s(k),{key:1,icon:"solar:star-line-duotone",height:"15"}))],8,fe),o("button",{onClick:F(M=>p(m),["stop"])},[m.important?(i(),$(s(k),{key:0,icon:"solar:info-circle-bold",height:"15",class:"text-info"})):(i(),$(s(k),{key:1,icon:"solar:info-circle-outline",height:"15"}))],8,ge),o("button",{onClick:F(M=>V(m),["stop"])},[h.value.includes(m)?(i(),$(s(k),{key:0,icon:"solar:trash-bin-trash-outline",height:"15",class:"delete-icon"})):U("",!0)],8,he)]),o("small",be,w(m.time?s(te)(new Date(m.time),"E, MMM d"):"N/A"),1)])])],10,re))),128))])):(i(),E("div",xe,[o("div",ye,[e(B,{color:"warning",variant:"tonal",class:"mb-4"},{prepend:t(()=>[e(y,{class:"text-24"},{default:t(()=>v[2]||(v[2]=[f("mdi-alert-circle-outline")])),_:1,__:[2]})]),default:t(()=>[v[3]||(v[3]=o("div",null,"No Email found for this search",-1))]),_:1,__:[3]})])]))]),_:1})])}}}),ke=Z("/images/backgrounds/empty_mail.png"),Ee={key:0,class:"email-detail"},Ce={class:"d-flex align-center ga-1 pb-6"},$e={class:"d-flex align-center justify-space-between mb-7"},we={class:"d-flex align-center ga-2"},Se=["src"],ze={class:"text-14 lh-normal"},Ve={class:"text-14 lh-normal"},De={class:"text-20"},Ie={class:"email-content"},Le=["innerHTML"],Me={key:0},Fe={class:"d-flex align-center ga-3"},Ae=["src"],je={class:"text-14 lh-normal cursor-pointer hover-primary"},Pe={class:"text-14"},Ue={class:"d-flex align-center ga-4 mt-6"},Be={key:1},K=P({__name:"EmailDetail",setup(g){const l=G(),_=()=>{l.selectedEmail&&l.deleteEmail(l.selectedEmail.id)},b=u=>{l.toggleStarred(u.id)},h=u=>{l.toggleImportant(u.id)};return(u,a)=>{const x=n("v-tooltip"),r=n("v-btn"),V=n("v-avatar"),C=n("v-chip"),p=n("v-divider"),c=n("v-col"),v=n("v-row"),z=n("RouterLink"),D=n("v-icon"),I=n("v-alert");return s(l).selectedEmail?(i(),E("div",Ee,[o("div",Ce,[e(r,{icon:"",rounded:"circle",size:"small",variant:"text",color:"primary",onClick:a[0]||(a[0]=F(y=>b(s(l).selectedEmail),["stop"]))},{default:t(()=>[s(l).selectedEmail.starred?(i(),$(s(k),{key:0,icon:"solar:star-bold",height:"18",class:"text-warning"})):(i(),$(s(k),{key:1,icon:"solar:star-line-duotone",class:"textPrimary",height:"18"})),e(x,{activator:"parent",location:"bottom"},{default:t(()=>a[2]||(a[2]=[f("Star")])),_:1,__:[2]})]),_:1}),e(r,{icon:"",rounded:"circle",size:"small",variant:"text",color:"primary",onClick:a[1]||(a[1]=F(y=>h(s(l).selectedEmail),["stop"]))},{default:t(()=>[s(l).selectedEmail.important?(i(),$(s(k),{key:0,icon:"solar:info-circle-bold",height:"18",class:"text-info"})):(i(),$(s(k),{key:1,icon:"solar:info-circle-outline",class:"textPrimary",height:"18"})),e(x,{activator:"parent",location:"bottom"},{default:t(()=>a[3]||(a[3]=[f("Importnat")])),_:1,__:[3]})]),_:1}),e(r,{icon:"",rounded:"circle",size:"small",variant:"text",color:"primary",onClick:_},{default:t(()=>[e(s(k),{icon:"solar:trash-bin-minimalistic-linear",class:"textPrimary",height:"18"}),e(x,{activator:"parent",location:"bottom"},{default:t(()=>a[4]||(a[4]=[f("Delete")])),_:1,__:[4]})]),_:1})]),o("div",$e,[o("div",we,[e(V,{size:"48"},{default:t(()=>[o("img",{src:s(l).selectedEmail.thumbnail,alt:"user",width:"48"},null,8,Se)]),_:1}),o("div",null,[o("h6",ze,w(s(l).selectedEmail.from),1),o("p",Ve,w(s(l).selectedEmail.To),1)])]),e(C,{class:"text-12",rounded:"pill",color:s(l).selectedEmail.label==="Promotional"?"primary":s(l).selectedEmail.label==="Social"?"error":s(l).selectedEmail.label==="Health"?"success":"secondary",variant:"flat",size:"small",label:""},{default:t(()=>[f(w(s(l).selectedEmail.label),1)]),_:1},8,["color"])]),o("h5",De,w(s(l).selectedEmail.subject),1),o("div",Ie,[o("p",{class:"opacity-80",innerHTML:s(l).selectedEmail.emailContent},null,8,Le)]),s(l).selectedEmail.attchments!=0?(i(),E("div",Me,[e(p,{class:"my-6"}),a[5]||(a[5]=o("h6",{class:"text-14 mb-3"},"Attachments",-1)),e(v,null,{default:t(()=>[(i(!0),E(L,null,j(s(l).selectedEmail.attchments,y=>(i(),$(c,{cols:"12",md:"4",key:y.id},{default:t(()=>[o("div",Fe,[e(V,{size:"48",rounded:"md",color:"light"},{default:t(()=>[o("img",{src:y.image,alt:"user",width:"24"},null,8,Ae)]),_:2},1024),o("div",null,[o("h5",je,w(y.title),1),o("p",Pe,w(y.fileSize),1)])])]),_:2},1024))),128))]),_:1}),e(p,{class:"mt-6"})])):U("",!0),o("div",Ue,[e(z,{to:"",class:"cursor-pointer link d-flex align-center ga-1 textPrimary hover-primary text-14"},{default:t(()=>[e(s(k),{icon:"solar:undo-left-bold",height:"16"}),a[6]||(a[6]=f("Reply"))]),_:1,__:[6]}),e(z,{to:"",class:"cursor-pointer link d-flex align-center ga-1 textPrimary hover-primary text-14"},{default:t(()=>[e(s(k),{icon:"solar:undo-right-bold",height:"16"}),a[7]||(a[7]=f(" Forward"))]),_:1,__:[7]})])])):(i(),E("div",Be,[e(I,{color:"error",variant:"tonal",class:"mb-4"},{prepend:t(()=>[e(D,{class:"text-24"},{default:t(()=>a[8]||(a[8]=[f("mdi-alert-circle-outline")])),_:1,__:[8]})]),default:t(()=>[a[9]||(a[9]=o("div",null,"Select an email to view its details.",-1))]),_:1,__:[9]}),a[10]||(a[10]=o("div",{class:"mx-auto text-center"},[o("img",{src:ke,alt:"user"})],-1))]))}}}),Te={class:"pa-lg-0 pa-6 pb-0"},Je=P({__name:"index",setup(g){const l=G(),_=S({title:"Email App"}),b=S([{text:"Dashboard",disabled:!1,href:"#"},{text:"Email App",disabled:!0,href:"#"}]),h=S("inbox");q(async()=>{await l.fetchEmails(),l.emails.length>0&&l.selectEmail(l.emails[0])});const u=R(()=>h.value?l.emails.filter(C=>C[h.value]):l.emails),a=C=>{h.value=C},x=S(!1),r=S(!1),{lgAndUp:V}=Q();return(C,p)=>{const c=n("Menu2Icon"),v=n("v-btn"),z=n("v-card"),D=n("v-card-text"),I=n("v-navigation-drawer");return i(),E(L,null,[e(ee,{title:_.value.title,breadcrumbs:b.value},null,8,["title","breadcrumbs"]),e(z,{elevation:"10"},{default:t(()=>[e(ne,null,{mailCompose:t(()=>[e(N,{onFilterChange:a})]),mailList:t(()=>[o("div",Te,[e(v,{block:"",onClick:p[0]||(p[0]=y=>r.value=!r.value),color:"primary",class:"d-lg-none d-md-flex d-sm-flex"},{default:t(()=>[e(c,{size:"20",class:"mr-2"}),p[4]||(p[4]=f(" Email Category "))]),_:1,__:[4]})]),e(J,{emails:u.value,class:"d-md-block d-none"},null,8,["emails"]),e(J,{emails:u.value,class:"d-md-none d-block",onClick:p[1]||(p[1]=y=>x.value=!x.value)},null,8,["emails"])]),mailDetail:t(()=>[e(K,{class:"d-md-block d-none"})]),mobileLeftContent:t(()=>[e(N,{onFilterChange:a})]),_:1})]),_:1}),e(I,{modelValue:x.value,"onUpdate:modelValue":p[2]||(p[2]=y=>x.value=y),location:"right",temporary:"",width:"350",class:"drawer-top-zero"},{default:t(()=>[e(D,{class:"pa-6"},{default:t(()=>[e(K)]),_:1})]),_:1},8,["modelValue"]),s(V)?U("",!0):(i(),$(I,{key:0,modelValue:r.value,"onUpdate:modelValue":p[3]||(p[3]=y=>r.value=y),location:"left",temporary:"",width:"350",class:"drawer-top-zero"},{default:t(()=>[e(D,{class:"pa-6"},{default:t(()=>[e(N,{onFilterChange:a})]),_:1})]),_:1},8,["modelValue"]))],64)}}});export{Je as default};
