import{_ as R}from"./DShf0rFh.js";import{_ as B}from"./jjhPJsqG.js";import{F as A}from"./BZHCRx1S.js";import{u as E}from"./DOb9EylX.js";import{_ as j}from"./L4_q0mTC.js";import{d as V,h as z,s as I,i as D,j as Y,k as c,o as G,r as l,c as g,b as _,F as H,f as a,e as t,l as J,m as h,w as s,n as K,g as d,p as O,t as P,T as Q}from"./BGVbXBYx.js";import{_ as W}from"./ehBp5AYk.js";import"./DHKzahhz.js";import"./CErvUb0H.js";const X={class:"d-flex flex-wrap align-center my-3 ml-n2"},Z={class:"ml-sm-auto"},ee={key:0,class:"mt-2"},te=V({__name:"LoginForm",setup(k){const{sendLogin:x}=E(),o=z(),{setUserAccepted:p}=o,{isStoringUserAccepeted:f}=I(o);D();const u=Y(),m=f,v=c(!1),i=c({email:"",password:""}),L=c([n=>!!n||"Le mot de passe est obligatoire",n=>n&&n.length>=10||"Le mot de passe doit faire 10 caractères minimum"]),F=c([n=>!!n||"L'e-mail est obligatoire",n=>/.+@.+\..+/.test(n)||"L'e-mail doit être valide"]),C=async()=>{await x(i.value)},M=()=>{p(m.value)};return G(()=>{u.query.email&&typeof u.query.email=="string"&&(i.value.email=u.query.email)}),(n,e)=>{const b=l("v-label"),w=l("VTextField"),S=l("v-checkbox"),T=R,U=l("v-btn"),$=l("v-alert"),q=B;return _(),g(H,null,[e[9]||(e[9]=a("div",{class:"d-flex align-center text-center mb-6"},[a("div",{class:"text-h6 w-100 px-5 font-weight-regular auth-divider position-relative"},[a("span",{class:"bg-surface px-5 py-3 position-relative text-subtitle-1 text-grey100"},"Identifiez-vous avec")])],-1)),t(h(A),{onSubmit:C,class:"mt-5"},{default:s(({errors:y,isSubmitting:N})=>[t(b,{class:"text-subtitle-1 font-weight-semibold pb-2 text-grey200"},{default:s(()=>e[4]||(e[4]=[d("Email",-1)])),_:1,__:[4]}),t(w,{modelValue:i.value.email,"onUpdate:modelValue":e[0]||(e[0]=r=>i.value.email=r),rules:F.value,class:"mb-8",placeholder:"info@manie.com",required:"","hide-details":"auto"},null,8,["modelValue","rules"]),t(b,{class:"text-subtitle-1 font-weight-semibold pb-2 text-grey200"},{default:s(()=>e[5]||(e[5]=[d("Mot de passe",-1)])),_:1,__:[5]}),t(w,{modelValue:i.value.password,"onUpdate:modelValue":e[1]||(e[1]=r=>i.value.password=r),rules:L.value,required:"","hide-details":"auto",placeholder:"**********",type:"password",class:"pwdInput"},null,8,["modelValue","rules"]),a("div",X,[t(S,{modelValue:h(m),"onUpdate:modelValue":e[2]||(e[2]=r=>O(m)?m.value=r:null),rules:[r=>!!r||"You must agree to continue!"],required:"","hide-details":"",color:"primary",onChange:e[3]||(e[3]=r=>M())},{label:s(()=>e[6]||(e[6]=[d("Se souvenir de mes infos",-1)])),_:1},8,["modelValue","rules"]),a("div",Z,[t(T,{to:"/auth/forgot-password",class:"text-primary text-decoration-none text-body-1 opacity-1 font-weight-medium"},{default:s(()=>e[7]||(e[7]=[d("Mot de passe oublié ?",-1)])),_:1,__:[7]})])]),t(U,{size:"large",rounded:"pill",loading:N,color:"primary",disabled:v.value,block:"",type:"submit",flat:""},{default:s(()=>e[8]||(e[8]=[d("M'identifier",-1)])),_:2,__:[8]},1032,["loading","disabled"]),y.apiError?(_(),g("div",ee,[t($,{color:"error"},{default:s(()=>[d(P(y.apiError),1)]),_:2},1024)])):K("",!0)]),_:1}),(_(),J(Q,{to:"body"},[t(j),t(q)]))],64)}}}),oe={class:"login-app-wrapper"},se={class:"auth-login position-relative d-flex align-center justify-content-center px-lg-16 px-sm-8 px-3 rounded-xl"},ae={class:"auth-login-wrapper position-relative rounded-xl mx-lg-16 mx-4 mx-auto w-100"},le={class:"mt-xl-0 mt-5 mw-100"},ne={class:"text-subtitle-1 text-grey100 d-flex align-center mt-6 font-weight-medium"},ve=V({__name:"Login",setup(k){return(x,o)=>{const p=l("v-col"),f=te,u=l("v-btn"),m=l("v-row"),v=l("v-card-item"),i=l("v-card");return _(),g("div",oe,[a("div",se,[a("div",ae,[t(i,{elevation:"0",class:"overflow-hidden px-sm-3"},{default:s(()=>[t(v,{class:"px-sm-8 px-3"},{default:s(()=>[t(m,{class:"justify-md-space-around align-center py-md-8"},{default:s(()=>[t(p,{cols:"12",lg:"5",md:"6",class:"d-md-flex d-none"},{default:s(()=>o[0]||(o[0]=[a("img",{src:W,class:"w-100",alt:"login-background"},null,-1)])),_:1,__:[0]}),t(p,{cols:"12",lg:"5",md:"6"},{default:s(()=>[a("div",le,[o[3]||(o[3]=a("h2",{class:"text-h2 font-weight-bold mb-2"},"Bienvenue sur Manie !",-1)),o[4]||(o[4]=a("div",{class:"text-h6 mb-6 font-weight-medium mt-3 mb-8"}," Votre assistant à la création et gestion d'évènements ",-1)),t(f),a("h6",ne,[o[2]||(o[2]=d(" Nouveau sur Manie ? ",-1)),t(u,{class:"pl-0 text-primary text-body-1 opacity-1 pl-2 font-weight-medium",height:"auto",to:"/auth/register",variant:"plain"},{default:s(()=>o[1]||(o[1]=[d("Créez un compte",-1)])),_:1,__:[1]})])])]),_:1})]),_:1})]),_:1})]),_:1})])])])}}});export{ve as default};
