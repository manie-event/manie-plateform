import{d as f,q as p,bT as v,g as n,o as _,c as t,a as o,e as g,t as h}from"./BR_J5eSC.js";import{u as k}from"./Dp_hdTzz.js";import"./CjJ6mZRf.js";const x={class:"p-8 text-center"},y={key:0},E={key:1,class:"text-green-600"},b={key:2,class:"text-red-600"},T=f({__name:"[token]",setup(w){const u=p(),l=v(),d=u.params.token,{checkEmail:m}=k(),i=n(!0),c=n(!1),r=n("");return _(async()=>{var a,s;try{const e=await m(d);if(console.log(e,"result"),e!=null&&e.success)c.value=!0,setTimeout(()=>l.push("/login"),3e3);else throw new Error((e==null?void 0:e.message)||"Erreur inconnue")}catch(e){r.value=((s=(a=e==null?void 0:e.response)==null?void 0:a.data)==null?void 0:s.message)||(e==null?void 0:e.message)}finally{i.value=!1}}),(a,s)=>(o(),t("div",x,[s[0]||(s[0]=g("h1",{class:"text-2xl font-bold mb-4"},"Vérification de l'email",-1)),i.value?(o(),t("div",y,"⏳ Vérification en cours...")):c.value?(o(),t("div",E,"✅ Email vérifié avec succès !")):(o(),t("div",b," ❌ Erreur de vérification : "+h(r.value||"Lien invalide ou expiré."),1))]))}});export{T as default};
