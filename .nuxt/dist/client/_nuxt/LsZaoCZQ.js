import{_ as F}from"./BdaI2LP6.js";import{F as N}from"./BurRxhq_.js";import{u as T}from"./CIgsT-Lv.js";import{_ as B}from"./DZGsOsoH.js";import{d as E,u as q,g as i,r as n,c as b,a as m,F as M,e as d,b as o,h as R,i as S,w as a,j as U,f as l,t as z,T as I,k as j}from"./Bzbf9dWs.js";const A={class:"d-flex flex-wrap align-center my-3 ml-n2"},D={class:"ml-sm-auto"},Y={key:0,class:"mt-2"},P=E({__name:"LoginForm",setup($){const p=q(),c=i(!1),v=i(!1),r=i({password:"",email:""}),{sendLogin:g}=T(),x=i([t=>!!t||"Le mot de passe est obligatoire",t=>t&&t.length>=10||"Le mot de passe doit faire 10 caractères minimum"]),w=i([t=>!!t||"L'e-mail est obligatoire",t=>/.+@.+\..+/.test(t)||"L'e-mail doit être valide"]),y=async()=>{const t=await g(r.value);console.log("login",t),j(()=>t.user.category.some(u=>u.toLowerCase()==="consumer"))?p.push({path:"/dashboards/dashboard1"}):p.push({path:"/dashboards/dashboard2"})};return(t,e)=>{const u=n("v-label"),f=n("VTextField"),V=n("v-checkbox"),h=F,k=n("v-btn"),L=n("v-alert");return m(),b(M,null,[e[8]||(e[8]=d("div",{class:"d-flex align-center text-center mb-6"},[d("div",{class:"text-h6 w-100 px-5 font-weight-regular auth-divider position-relative"},[d("span",{class:"bg-surface px-5 py-3 position-relative text-subtitle-1 text-grey100"},"Identifiez-vous avec")])],-1)),o(S(N),{onSubmit:y,class:"mt-5"},{default:a(({errors:_,isSubmitting:C})=>[o(u,{class:"text-subtitle-1 font-weight-semibold pb-2 text-grey200"},{default:a(()=>e[3]||(e[3]=[l("Email")])),_:1,__:[3]}),o(f,{modelValue:r.value.email,"onUpdate:modelValue":e[0]||(e[0]=s=>r.value.email=s),rules:w.value,class:"mb-8",placeholder:"info@manie.com",required:"",autocomplete:"current-email","hide-details":"auto"},null,8,["modelValue","rules"]),o(u,{class:"text-subtitle-1 font-weight-semibold pb-2 text-grey200"},{default:a(()=>e[4]||(e[4]=[l("Mot de passe")])),_:1,__:[4]}),o(f,{modelValue:r.value.password,"onUpdate:modelValue":e[1]||(e[1]=s=>r.value.password=s),rules:x.value,required:"","hide-details":"auto",placeholder:"**********",type:"password",autocomplete:"current-password",class:"pwdInput"},null,8,["modelValue","rules"]),d("div",A,[o(V,{modelValue:c.value,"onUpdate:modelValue":e[2]||(e[2]=s=>c.value=s),rules:[s=>!!s||"You must agree to continue!"],required:"","hide-details":"",color:"primary"},{label:a(()=>e[5]||(e[5]=[l("Se souvenir de cet appareil")])),_:1},8,["modelValue","rules"]),d("div",D,[o(h,{to:"/auth/forgot-password",class:"text-primary text-decoration-none text-body-1 opacity-1 font-weight-medium"},{default:a(()=>e[6]||(e[6]=[l("Mot de passe oublié ?")])),_:1,__:[6]})])]),o(k,{size:"large",rounded:"pill",loading:C,color:"primary",disabled:v.value,block:"",type:"submit",flat:""},{default:a(()=>e[7]||(e[7]=[l("M'identifier")])),_:2,__:[7]},1032,["loading","disabled"]),_.apiError?(m(),b("div",Y,[o(L,{color:"error"},{default:a(()=>[l(z(_.apiError),1)]),_:2},1024)])):U("",!0)]),_:1}),(m(),R(I,{to:"body"},[o(B)]))],64)}}});export{P as _};
