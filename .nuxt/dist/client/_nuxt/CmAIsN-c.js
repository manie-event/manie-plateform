import{_ as q}from"./w6bIKoHF.js";import{F as M}from"./D2MKGd24.js";import{u as R,a as S}from"./Bww0DDla.js";import{_ as U}from"./96TgNZ1t.js";import{d as g,r as i,g as w,h as y,u as f,a as c,T as z,w as o,b as t,e as n,i as I,j as u,c as x,F as $,f as r,t as j,k as A,l as D}from"./lwjdZeOp.js";const G=g({__name:"successToaster",setup(V){const{sucessToaster:d}=R();return(_,m)=>{const a=i("v-alert");return f(d)?(c(),w(z,{key:0,name:"fade",tag:"div",class:"alerts-wrapper"},{default:o(()=>[t(a,{class:"success-card",type:"success",text:f(d),dismissible:""},{default:o(()=>m[0]||(m[0]=[n("div",{class:"progress-bar"},null,-1)])),_:1,__:[0]},8,["text"])]),_:1})):y("",!0)}}}),Y={class:"d-flex flex-wrap align-center my-3 ml-n2"},H={class:"ml-sm-auto"},J={key:0,class:"mt-2"},X=g({__name:"LoginForm",setup(V){const d=I(),_=u(!1),m=u(!1),a=u({password:"",email:""}),{sendLogin:h}=S(),k=u([s=>!!s||"Le mot de passe est obligatoire",s=>s&&s.length>=10||"Le mot de passe doit faire 10 caractères minimum"]),T=u([s=>!!s||"L'e-mail est obligatoire",s=>/.+@.+\..+/.test(s)||"L'e-mail doit être valide"]),L=async()=>{const s=await h(a.value);D(()=>s.user.category.some(p=>p.toLowerCase()==="consumer"))?d.push({path:"/dashboards/dashboard1"}):d.push({path:"/dashboards/dashboard2"})};return(s,e)=>{const p=i("v-label"),v=i("VTextField"),C=i("v-checkbox"),F=q,N=i("v-btn"),B=i("v-alert");return c(),x($,null,[e[8]||(e[8]=n("div",{class:"d-flex align-center text-center mb-6"},[n("div",{class:"text-h6 w-100 px-5 font-weight-regular auth-divider position-relative"},[n("span",{class:"bg-surface px-5 py-3 position-relative text-subtitle-1 text-grey100"},"Identifiez-vous avec")])],-1)),t(f(M),{onSubmit:L,class:"mt-5"},{default:o(({errors:b,isSubmitting:E})=>[t(p,{class:"text-subtitle-1 font-weight-semibold pb-2 text-grey200"},{default:o(()=>e[3]||(e[3]=[r("Email")])),_:1,__:[3]}),t(v,{modelValue:a.value.email,"onUpdate:modelValue":e[0]||(e[0]=l=>a.value.email=l),rules:T.value,class:"mb-8",placeholder:"info@manie.com",required:"",autocomplete:"current-email","hide-details":"auto"},null,8,["modelValue","rules"]),t(p,{class:"text-subtitle-1 font-weight-semibold pb-2 text-grey200"},{default:o(()=>e[4]||(e[4]=[r("Mot de passe")])),_:1,__:[4]}),t(v,{modelValue:a.value.password,"onUpdate:modelValue":e[1]||(e[1]=l=>a.value.password=l),rules:k.value,required:"","hide-details":"auto",placeholder:"**********",type:"password",autocomplete:"current-password",class:"pwdInput"},null,8,["modelValue","rules"]),n("div",Y,[t(C,{modelValue:_.value,"onUpdate:modelValue":e[2]||(e[2]=l=>_.value=l),rules:[l=>!!l||"You must agree to continue!"],required:"","hide-details":"",color:"primary"},{label:o(()=>e[5]||(e[5]=[r("Se souvenir de cet appareil")])),_:1},8,["modelValue","rules"]),n("div",H,[t(F,{to:"/auth/forgot-password",class:"text-primary text-decoration-none text-body-1 opacity-1 font-weight-medium"},{default:o(()=>e[6]||(e[6]=[r("Mot de passe oublié ?")])),_:1,__:[6]})])]),t(N,{size:"large",rounded:"pill",loading:E,color:"primary",disabled:m.value,block:"",type:"submit",flat:""},{default:o(()=>e[7]||(e[7]=[r("M'identifier")])),_:2,__:[7]},1032,["loading","disabled"]),b.apiError?(c(),x("div",J,[t(B,{color:"error"},{default:o(()=>[r(j(b.apiError),1)]),_:2},1024)])):y("",!0)]),_:1}),(c(),w(A,{to:"body"},[t(U),t(G)]))],64)}}});export{X as _};
