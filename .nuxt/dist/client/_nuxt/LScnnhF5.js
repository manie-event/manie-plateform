import{_ as N}from"./DlPAnqeK.js";import{F as T}from"./BacjPck9.js";import{u as B}from"./RPcseqXW.js";import{_ as C}from"./EkyuR33G.js";import{d as E,aD as q,l as i,r as n,c as v,o as u,F as M,e as d,b as o,h as R,u as S,w as s,a as U,f as l,t as z,T as D}from"./aI3ctD-H.js";const I={class:"d-flex flex-wrap align-center my-3 ml-n2"},A={class:"ml-sm-auto"},Y={key:0,class:"mt-2"},O=E({__name:"LoginForm",setup($){const m=q(),p=i(!1),_=i(!1),r=i({password:"",email:""}),{sendLogin:x}=B(),g=i([t=>!!t||"Le mot de passe est obligatoire",t=>t&&t.length>=10||"Le mot de passe doit faire 10 caractères minimum"]),y=i([t=>!!t||"L'e-mail est obligatoire",t=>/.+@.+\..+/.test(t)||"L'e-mail doit être valide"]),w=async()=>{const t=await x(r.value);t&&t.category&&(t.category==="consumer"?m.push({path:"/dashboards/dashboard1"}):m.push({path:"/dashboards/dashboard2"}))};return(t,e)=>{const c=n("v-label"),f=n("VTextField"),V=n("v-checkbox"),h=N,k=n("v-btn"),F=n("v-alert");return u(),v(M,null,[e[8]||(e[8]=d("div",{class:"d-flex align-center text-center mb-6"},[d("div",{class:"text-h6 w-100 px-5 font-weight-regular auth-divider position-relative"},[d("span",{class:"bg-surface px-5 py-3 position-relative text-subtitle-1 text-grey100"},"Identifiez-vous avec")])],-1)),o(S(T),{onSubmit:w,class:"mt-5"},{default:s(({errors:b,isSubmitting:L})=>[o(c,{class:"text-subtitle-1 font-weight-semibold pb-2 text-grey200"},{default:s(()=>e[3]||(e[3]=[l("Email")])),_:1}),o(f,{modelValue:r.value.email,"onUpdate:modelValue":e[0]||(e[0]=a=>r.value.email=a),rules:y.value,class:"mb-8",placeholder:"info@manie.com",required:"",autocomplete:"current-email","hide-details":"auto"},null,8,["modelValue","rules"]),o(c,{class:"text-subtitle-1 font-weight-semibold pb-2 text-grey200"},{default:s(()=>e[4]||(e[4]=[l("Mot de passe")])),_:1}),o(f,{modelValue:r.value.password,"onUpdate:modelValue":e[1]||(e[1]=a=>r.value.password=a),rules:g.value,required:"","hide-details":"auto",placeholder:"**********",type:"password",autocomplete:"current-password",class:"pwdInput"},null,8,["modelValue","rules"]),d("div",I,[o(V,{modelValue:p.value,"onUpdate:modelValue":e[2]||(e[2]=a=>p.value=a),rules:[a=>!!a||"You must agree to continue!"],required:"","hide-details":"",color:"primary"},{label:s(()=>e[5]||(e[5]=[l("Se souvenir de cet appareil")])),_:1},8,["modelValue","rules"]),d("div",A,[o(h,{to:"/auth/forgot-password",class:"text-primary text-decoration-none text-body-1 opacity-1 font-weight-medium"},{default:s(()=>e[6]||(e[6]=[l("Mot de passe oublié ?")])),_:1})])]),o(k,{size:"large",rounded:"pill",loading:L,color:"primary",disabled:_.value,block:"",type:"submit",flat:""},{default:s(()=>e[7]||(e[7]=[l("M'identifier")])),_:2},1032,["loading","disabled"]),b.apiError?(u(),v("div",Y,[o(F,{color:"error"},{default:s(()=>[l(z(b.apiError),1)]),_:2},1024)])):U("",!0)]),_:1}),(u(),R(D,{to:"body"},[o(C)]))],64)}}});export{O as _};
