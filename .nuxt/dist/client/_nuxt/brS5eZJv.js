import{B as Z,D as ee,d as te,o as le,A as V,l as i,b7 as oe,r as n,c as h,a as w,F as S,b as e,w as o,e as a,t as c,f as b,y,p as ae}from"./CHEumwGj.js";import{_ as T}from"./DE3fV0FC.js";const se=Z({id:"Contact",state:()=>({contacts:[]}),getters:{},actions:{async fetchContacts(){try{const _=await ee.get("/api/contacts");this.contacts=_.data.contacts}catch(_){alert(_),console.log(_)}}}}),ne={class:"text-h5"},de={class:"pa-4 d-flex justify-end gap-2"},ie={class:"border-table"},ue={class:"text-subtitle-1"},re={class:"d-flex align-center"},ce={class:"ml-5"},me={class:"text-subtitle-1 font-weight-semibold text-no-wrap"},ve={class:"text-subtitle-1 d-block mt-1 textSecondary"},_e={class:"text-subtitle-1"},pe={class:"text-subtitle-1"},fe={class:"d-flex align-center"},ge=te({__name:"EditableTable",setup(_){const C=se();le(()=>{C.fetchContacts()}),V(()=>C.contacts);const k=i(!0),p=i(!1),x=i(""),B=i(["primary","secondary","error","success","warning"]),m=i(oe),f=i(-1),s=i({id:"",avatar:T,userinfo:"",usermail:"",phone:"",jdate:"",role:"",rolestatus:""}),D=i({id:"",avatar:T,userinfo:"",usermail:"",phone:"",jdate:"",role:"",rolestatus:""}),O=V(()=>m.value.filter(u=>u.userinfo.toLowerCase().includes(x.value.toLowerCase())));function P(u){f.value=m.value.indexOf(u),s.value=Object.assign({},u),p.value=!0}function z(u){const t=m.value.indexOf(u);confirm("Are you sure you want to delete this item?")&&m.value.splice(t,1)}function U(){p.value=!1,setTimeout(()=>{s.value=Object.assign({},D.value),f.value=-1},300)}function A(){f.value>-1?Object.assign(m.value[f.value],s.value):m.value.push(s.value),U()}const E=V(()=>f.value===-1?"New Contact":"Edit Contact");return(u,t)=>{const r=n("v-text-field"),d=n("v-col"),L=n("v-icon"),v=n("v-btn"),N=n("v-card-title"),R=n("v-select"),I=n("v-row"),$=n("v-form"),F=n("v-card-text"),J=n("v-spacer"),M=n("v-card"),q=n("v-dialog"),G=n("v-img"),H=n("v-chip"),K=n("PencilIcon"),j=n("v-tooltip"),Q=n("TrashIcon"),W=n("v-table"),X=n("perfect-scrollbar");return w(),h(S,null,[e(I,null,{default:o(()=>[e(d,{cols:"12",lg:"4",md:"6"},{default:o(()=>[e(r,{density:"compact",modelValue:x.value,"onUpdate:modelValue":t[0]||(t[0]=l=>x.value=l),label:"Search Contacts","hide-details":"",variant:"outlined"},null,8,["modelValue"])]),_:1}),e(d,{cols:"12",lg:"8",md:"6",class:"text-right"},{default:o(()=>[e(q,{modelValue:p.value,"onUpdate:modelValue":t[10]||(t[10]=l=>p.value=l),"max-width":"500"},{activator:o(({props:l})=>[e(v,y({color:"primary"},l,{rounded:"pill",class:"ml-auto"}),{default:o(()=>[e(L,{class:"mr-2"},{default:o(()=>t[11]||(t[11]=[b("mdi-account-multiple-plus",-1)])),_:1,__:[11]}),t[12]||(t[12]=b("Add Contact ",-1))]),_:2,__:[12]},1040)]),default:o(()=>[e(M,null,{default:o(()=>[e(N,{class:"px-4 pt-6 justify-space-between d-flex align-center"},{default:o(()=>[a("span",ne,c(E.value),1),e(v,{onClick:t[1]||(t[1]=l=>p.value=!1),ripple:!1,density:"compact",icon:"mdi-close"})]),_:1}),e(F,{class:"px-4"},{default:o(()=>[e($,{class:"dialog_form",ref:"form",modelValue:k.value,"onUpdate:modelValue":t[9]||(t[9]=l=>k.value=l),"lazy-validation":""},{default:o(()=>[e(I,null,{default:o(()=>[e(d,{cols:"12",sm:"6"},{default:o(()=>[e(r,{variant:"outlined","hide-details":"",modelValue:s.value.id,"onUpdate:modelValue":t[2]||(t[2]=l=>s.value.id=l),label:"Id"},null,8,["modelValue"])]),_:1}),e(d,{cols:"12",sm:"6"},{default:o(()=>[e(r,{variant:"outlined","hide-details":"",modelValue:s.value.userinfo,"onUpdate:modelValue":t[3]||(t[3]=l=>s.value.userinfo=l),label:"User info"},null,8,["modelValue"])]),_:1}),e(d,{cols:"12",sm:"6"},{default:o(()=>[e(r,{variant:"outlined","hide-details":"",modelValue:s.value.usermail,"onUpdate:modelValue":t[4]||(t[4]=l=>s.value.usermail=l),label:"User email",type:"email"},null,8,["modelValue"])]),_:1}),e(d,{cols:"12",sm:"6"},{default:o(()=>[e(r,{variant:"outlined","hide-details":"",modelValue:s.value.phone,"onUpdate:modelValue":t[5]||(t[5]=l=>s.value.phone=l),label:"Phone",type:"phone"},null,8,["modelValue"])]),_:1}),e(d,{cols:"12",sm:"6"},{default:o(()=>[e(r,{variant:"outlined","hide-details":"",modelValue:s.value.jdate,"onUpdate:modelValue":t[6]||(t[6]=l=>s.value.jdate=l),label:"Joining Date"},null,8,["modelValue"])]),_:1}),e(d,{cols:"12",sm:"6"},{default:o(()=>[e(r,{variant:"outlined","hide-details":"",modelValue:s.value.role,"onUpdate:modelValue":t[7]||(t[7]=l=>s.value.role=l),label:"Role"},null,8,["modelValue"])]),_:1}),e(d,{cols:"12",sm:"12"},{default:o(()=>[e(R,{variant:"outlined","hide-details":"",items:B.value,modelValue:s.value.rolestatus,"onUpdate:modelValue":t[8]||(t[8]=l=>s.value.rolestatus=l),label:"Role Background"},null,8,["items","modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}),a("div",de,[e(J),e(v,{onClick:U,class:"bg-error px-3 rounded-pill"},{default:o(()=>t[13]||(t[13]=[b("Cancel",-1)])),_:1,__:[13]}),e(v,{color:"primary",disabled:s.value.userinfo==""||s.value.usermail=="",class:"px-3 rounded-pill",onClick:A},{default:o(()=>t[14]||(t[14]=[b("Save",-1)])),_:1,__:[14]},8,["disabled"])])]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1}),e(X,{class:"no-scrollbar"},{default:o(()=>[a("div",ie,[e(W,{class:"mt-5"},{default:o(()=>[t[15]||(t[15]=a("thead",null,[a("tr",null,[a("th",{class:"text-subtitle-1 font-weight-semibold"},"Id"),a("th",{class:"text-subtitle-1 font-weight-semibold"},"UserInfo"),a("th",{class:"text-subtitle-1 font-weight-semibold"},"Phone"),a("th",{class:"text-subtitle-1 font-weight-semibold"},"Joining Date"),a("th",{class:"text-subtitle-1 font-weight-semibold"},"Role"),a("th",{class:"text-subtitle-1 font-weight-semibold"},"Actions")])],-1)),a("tbody",null,[(w(!0),h(S,null,ae(O.value,l=>(w(),h("tr",{key:l.id},[a("td",ue,c(l.id),1),a("td",null,[a("div",re,[a("div",null,[e(G,{src:l.avatar,width:"45px",class:"rounded-circle img-fluid"},null,8,["src"])]),a("div",ce,[a("h4",me,c(l.userinfo),1),a("span",ve,c(l.usermail),1)])])]),a("td",_e,c(l.phone),1),a("td",pe,c(l.jdate),1),a("td",null,[e(H,{rounded:"pill",color:l.rolestatus,size:"small",label:""},{default:o(()=>[b(c(l.role),1)]),_:2},1032,["color"])]),a("td",null,[a("div",fe,[e(j,{text:"Edit"},{activator:o(({props:g})=>[e(v,y({icon:"",flat:"",onClick:Y=>P(l)},{ref_for:!0},g),{default:o(()=>[e(K,{"stroke-width":"1.5",size:"20",class:"text-primary"})]),_:2},1040,["onClick"])]),_:2},1024),e(j,{text:"Delete"},{activator:o(({props:g})=>[e(v,y({icon:"",flat:"",onClick:Y=>z(l)},{ref_for:!0},g),{default:o(()=>[e(Q,{"stroke-width":"1.5",size:"20",class:"text-error"})]),_:2},1040,["onClick"])]),_:2},1024)])])]))),128))])]),_:1,__:[15]})])]),_:1})],64)}}});export{ge as _};
