import{_ as E}from"./74YPDCEQ.js";import{d as N,h as D,s as F,A as T,k as B,r as d,c as U,b as v,F as z,e,l as h,w as a,n as A,f as i,g as V,m as s,t as S,T as $,Z as O,bg as M,c5 as Y,q as G,x as H,p as Z,bu as J,c6 as K,ca as Q}from"./DkNnpBgi.js";import{B as W}from"./Gckm8ang.js";import{u as X}from"./ULlfbqiz.js";import{c as ee,a as f,g as se,f as oe}from"./w9Wlem1u.js";import{_ as te}from"./pIOrsw_x.js";import{u as le}from"./BNBXWEUj.js";import{M as re}from"./CS-3flG2.js";const ae=""+new URL("profilebg.C-rrjIlB.jpg",import.meta.url).href,ne=N({__name:"EditClientProfil",props:{openModal:{type:Boolean},openModalModifiers:{}},emits:["update:openModal"],setup(I){const x=D(),{isProfileCreated:_}=F(x),{patchClientProfil:k}=le(),g=T(I,"openModal"),m=B(!1),y=B(!1),t=ee({isBusiness:oe(),businessName:f().when("isBusiness",{is:!0,then:u=>u.min(2).required("La raison sociale est requise"),otherwise:u=>u.optional()}),businessSiret:f().when("isBusiness",{is:!0,then:u=>u.required("Le numéro de siret est requis").matches(/^\d{14}$/,"Le SIRET doit contenir 14 chiffres"),otherwise:u=>u.optional()}),businessLeader:f().when("isBusiness",{is:!0,then:u=>u.min(2).required("Le nom du dirigeant est requis"),otherwise:u=>u.optional()}),username:f().min(2).required("Le nom est requis"),birthDate:se().required("La date de naissance est requise"),phoneNumber:f().matches(/^(?:(?:\+|00)33|0)\s*[1-9](?:[\s.-]*\d{2}){4}$/,"Format de téléphone invalide").required("Le numéro de téléphone est requis"),address:f().required("L'adresse est requise"),zipCode:f().matches(/^\d{5}$/,"Le code postal doit contenir 5 chiffres").required("Le code postal est requis"),city:f().required("La ville est requise"),country:f().required("Le pays est requis")}),{values:l,errors:n}=X({validationSchema:t,initialValues:{businessName:"",businessSiret:"",businessLeader:"",address:"",zipCode:"",city:"",country:"France",birthDate:null,username:"",phoneNumber:"",isBusiness:!1},validateOnMount:!1,keepValuesOnUnmount:!0}),q=async u=>{try{y.value=!0,m.value=!0,await k(u),g.value=!1,m.value=!1}catch(o){console.error("Erreur lors de la mise à jour du profil:",o)}finally{y.value=!1}};return(u,o)=>{const w=d("v-divider"),b=d("v-checkbox"),p=d("v-text-field"),L=d("v-btn"),C=d("v-form");return v(),U(z,null,[e(W,{modelValue:g.value,"onUpdate:modelValue":o[12]||(o[12]=r=>g.value=r),fullscreen:"",transition:"dialog-bottom-transition"},{title:a(()=>[V(S(s(_)?"Modifier votre profil":"Renseignez votre profil"),1)]),content:a(()=>[e(C,{class:"px-4"},{default:a(()=>[e(w,{class:"mt-6"},{default:a(()=>o[13]||(o[13]=[i("p",{class:"mt-6"},null,-1),V(" A propos de vous ",-1)])),_:1,__:[13]}),e(b,{label:"Êtes-vous une entreprise ?",modelValue:s(l).isBusiness,"onUpdate:modelValue":o[0]||(o[0]=r=>s(l).isBusiness=r),"error-messages":m.value?s(n).isBusiness:void 0},null,8,["modelValue","error-messages"]),s(l).isBusiness?(v(),U(z,{key:0},[e(p,{class:"mt-6",label:"Le nom de votre entreprise ?",modelValue:s(l).businessName,"onUpdate:modelValue":o[1]||(o[1]=r=>s(l).businessName=r),"error-messages":m.value?s(n).businessName:void 0},null,8,["modelValue","error-messages"]),e(p,{label:"Votre Numéro De Siret ?",modelValue:s(l).businessSiret,"onUpdate:modelValue":o[2]||(o[2]=r=>s(l).businessSiret=r),"error-messages":m.value?s(n).businessSiret:void 0},null,8,["modelValue","error-messages"]),e(p,{label:"Nom du dirigeant ?",modelValue:s(l).businessLeader,"onUpdate:modelValue":o[3]||(o[3]=r=>s(l).businessLeader=r),"error-messages":m.value?s(n).businessLeader:void 0},null,8,["modelValue","error-messages"])],64)):A("",!0),e(p,{label:"Votre nom ?",modelValue:s(l).username,"onUpdate:modelValue":o[4]||(o[4]=r=>s(l).username=r),"error-messages":m.value?s(n).username:void 0},null,8,["modelValue","error-messages"]),e(p,{label:"Votre date de naissance ?",type:"date",modelValue:s(l).birthDate,"onUpdate:modelValue":o[5]||(o[5]=r=>s(l).birthDate=r),"error-messages":m.value?s(n).birthDate:void 0},null,8,["modelValue","error-messages"]),e(p,{label:"Votre numéro de téléphone ?",modelValue:s(l).phoneNumber,"onUpdate:modelValue":o[6]||(o[6]=r=>s(l).phoneNumber=r),"error-messages":m.value?s(n).phoneNumber:void 0},null,8,["modelValue","error-messages"]),e(w,{class:"mt-6"},{default:a(()=>o[14]||(o[14]=[i("p",{class:"mt-6"},null,-1),V(" A propos de votre adresse ",-1)])),_:1,__:[14]}),e(p,{label:"Votre adresse ?",modelValue:s(l).address,"onUpdate:modelValue":o[7]||(o[7]=r=>s(l).address=r),"error-messages":m.value?s(n).address:void 0},null,8,["modelValue","error-messages"]),e(p,{label:"Votre code postal ?",modelValue:s(l).zipCode,"onUpdate:modelValue":o[8]||(o[8]=r=>s(l).zipCode=r),"error-messages":m.value?s(n).zipCode:void 0},null,8,["modelValue","error-messages"]),e(p,{label:"Votre ville ?",modelValue:s(l).city,"onUpdate:modelValue":o[9]||(o[9]=r=>s(l).city=r),"error-messages":m.value?s(n).city:void 0},null,8,["modelValue","error-messages"]),e(p,{label:"Votre pays ?",modelValue:s(l).country,"onUpdate:modelValue":o[10]||(o[10]=r=>s(l).country=r),"error-messages":m.value?s(n).country:void 0},null,8,["modelValue","error-messages"]),e(L,{color:"primary",onClick:o[11]||(o[11]=r=>q(s(l))),loading:y.value,block:""},{default:a(()=>o[15]||(o[15]=[V(" Valider le profil ",-1)])),_:1,__:[15]},8,["loading"])]),_:1})]),_:1},8,["modelValue"]),(v(),h($,{to:"body"},[e(te)]))],64)}}}),ie=["src"],de={class:"px-4 py-1"},ue={class:"text-center top-spacer"},me={class:"avatar-border"},pe=["src"],ce={class:"d-sm-flex align-center justify-sm-space-between justify-center px-sm-10 py-1 gap-3"},fe={class:"d-flex gap-3"},be={class:"d-sm-flex d-none"},Be=N({__name:"ProfileBanner",setup(I){const x=B(null),_=B(!1),k=O([{tab:"Profile",icon:M,href:"/apps/userprofile/two"},{tab:"Followers",icon:J,href:"/apps/userprofile/two/followers"},{tab:"Friends",icon:K,href:"/apps/userprofile/two/friends"},{tab:"Gallery",icon:Q,href:"/apps/userprofile/two/gallery"}]),{isProfilUpdate:g}=F(D()),m=()=>{_.value=!_.value};return(y,t)=>{const l=d("FileDescriptionIcon"),n=d("v-col"),q=d("UserCheckIcon"),u=d("v-row"),o=d("v-avatar"),w=d("BrandFacebookIcon"),b=d("v-btn"),p=d("BrandTwitterIcon"),L=d("BrandDribbbleIcon"),C=d("BrandYoutubeIcon"),r=E,P=d("v-tab"),j=d("v-tabs"),R=d("v-card");return v(),U(z,null,[e(R,{elevation:"10",class:"overflow-hidden"},{default:a(()=>[i("img",{src:s(ae),alt:"profile",class:"w-100"},null,8,ie),i("div",null,[e(u,{class:"mt-1"},{default:a(()=>[e(n,{cols:"12",lg:"4",sm:"12",class:"order-sm-second"},{default:a(()=>[i("div",de,[e(u,{class:"justify-center"},{default:a(()=>[e(n,{cols:"4",class:"text-center"},{default:a(()=>[e(l,{size:"20",class:"text-grey100"}),t[4]||(t[4]=i("h4",{class:"text-h4 font-weight-semibold"},"938",-1)),t[5]||(t[5]=i("h6",{class:"text-h6 font-weight-medium text-grey100"},"Posts",-1))]),_:1,__:[4,5]}),e(n,{cols:"4",class:"text-center"},{default:a(()=>[e(s(M),{size:"20",class:"text-grey100"}),t[6]||(t[6]=i("h4",{class:"text-h4 font-weight-semibold"},"3,586",-1)),t[7]||(t[7]=i("h6",{class:"text-h6 font-weight-medium text-grey100"},"Followers",-1))]),_:1,__:[6,7]}),e(n,{cols:"4",class:"text-center"},{default:a(()=>[e(q,{size:"20",class:"text-grey100"}),t[8]||(t[8]=i("h4",{class:"text-h4 font-weight-semibold"},"2,659",-1)),t[9]||(t[9]=i("h6",{class:"text-h6 font-weight-medium text-grey100"},"Following",-1))]),_:1,__:[8,9]})]),_:1})])]),_:1}),e(n,{cols:"12",lg:"4",sm:"12",class:"d-flex justify-center order-sml-first"},{default:a(()=>[i("div",ue,[i("div",me,[e(o,{size:"100",class:"userImage"},{default:a(()=>[i("img",{src:s(Y),width:"100",alt:"Mathew"},null,8,pe)]),_:1})]),t[10]||(t[10]=i("h5",{class:"text-h5 mt-3 font-weight-semibold"},"Mike Nielsen",-1)),t[11]||(t[11]=i("span",{class:"text-h6 font-weight-regular"},"Designer",-1))])]),_:1}),e(n,{cols:"12",lg:"4",class:"d-flex align-center justify-center justify-lg-end order-sm-third text-sm-right text-center"},{default:a(()=>[i("div",ce,[i("div",fe,[e(b,{icon:"",variant:"flat",size:"x-small",color:"primary",class:"btn-brand-facebook"},{default:a(()=>[e(w,{size:"16"})]),_:1}),e(b,{icon:"",variant:"flat",size:"x-small",color:"info",class:"btn-brand-twitter"},{default:a(()=>[e(p,{size:"16"})]),_:1}),e(b,{icon:"",variant:"flat",size:"x-small",color:"secondary",class:"btn-brand-dribbble"},{default:a(()=>[e(L,{size:"16"})]),_:1}),e(b,{icon:"",variant:"flat",size:"x-small",color:"error",class:"btn-brand-youtube"},{default:a(()=>[e(C,{size:"16"})]),_:1})]),e(b,{color:"primary",size:"large",class:"w-100",onClick:t[0]||(t[0]=c=>m())},{default:a(()=>t[12]||(t[12]=[V("Editez votre profil",-1)])),_:1,__:[12]}),e(r,{to:"/dashboards/dashboard-client"},{default:a(()=>[e(b,{color:"success",size:"large",class:"w-100"},{default:a(()=>t[13]||(t[13]=[V(" Revenir au dashboard",-1)])),_:1,__:[13]})]),_:1})])]),_:1}),e(n,{md:"12",class:"order-sm-last"},{default:a(()=>[e(j,{modelValue:x.value,"onUpdate:modelValue":t[1]||(t[1]=c=>x.value=c),color:"primary",dark:"",class:"profiletab bg-lightinfo"},{default:a(()=>[(v(!0),U(z,null,G(k.value,c=>(v(),h(P,{key:c.tab,to:c.href,class:"text-grey200"},{default:a(()=>[(v(),h(H(c.icon),{size:"18","stroke-width":"1.5",class:"mr-sm-2 text-h6 text-grey200 icon"})),i("span",be,S(c.tab),1)]),_:2},1032,["to"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1})])]),_:1}),(v(),h($,{to:"body"},[e(ne,{openModal:_.value,"onUpdate:openModal":t[2]||(t[2]=c=>_.value=c)},null,8,["openModal"]),e(re,{redirection:"dashboard-client",modelValue:s(g),"onUpdate:modelValue":t[3]||(t[3]=c=>Z(g)?g.value=c:null)},null,8,["modelValue"])]))],64)}}});export{Be as _};
