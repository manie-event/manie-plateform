import{d as f,i as p,a7 as v,l as n,j as _,c as t,o,e as h,t as k}from"./aI3ctD-H.js";import{u as g}from"./RPcseqXW.js";const x={class:"p-8 text-center"},y={key:0},E={key:1,class:"text-green-600"},w={key:2,class:"text-red-600"},R=f({__name:"[token]",setup(B){const l=p(),u=v(),d=l.params.token,{checkEmail:m}=g(),i=n(!0),c=n(!1),r=n("");return _(async()=>{var a,s;try{const e=await m(d);if(console.log(e,"result"),e!=null&&e.success)c.value=!0,setTimeout(()=>u.push("/login"),3e3);else throw new Error((e==null?void 0:e.message)||"Erreur inconnue")}catch(e){r.value=((s=(a=e==null?void 0:e.response)==null?void 0:a.data)==null?void 0:s.message)||(e==null?void 0:e.message)}finally{i.value=!1}}),(a,s)=>(o(),t("div",x,[s[0]||(s[0]=h("h1",{class:"text-2xl font-bold mb-4"},"Vérification de l'email",-1)),i.value?(o(),t("div",y,"⏳ Vérification en cours...")):c.value?(o(),t("div",E,"✅ Email vérifié avec succès !")):(o(),t("div",w," ❌ Erreur de vérification : "+k(r.value||"Lien invalide ou expiré."),1))]))}});export{R as default};
