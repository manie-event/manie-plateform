{"version":3,"file":"index-Csni3YWe.js","sources":["../../../../stores/apps/kanban/task.ts","../../../../components/apps/kanban/TaskItemCard.vue","../../../../components/apps/kanban/TaskColumn.vue","../../../../components/apps/kanban/TaskCard.vue"],"sourcesContent":["import { defineStore } from 'pinia';\n// project imports\nimport axios from '@/utils/axios';\nimport { map } from 'lodash';\nimport { uniqueId } from 'lodash';\nimport { sub } from 'date-fns';\nimport type { Ref } from 'vue';\n\ninterface TaskType {\n  id?: string | any;\n  title?: string;\n  subtitle?: string;\n  datef?: Date | any;\n  cardbg?: string;\n  deleted?: boolean;\n  taskimg?: string;\n  date?: Date | any;\n  category?: string;\n  categorybg?: string;\n  tasks?: TaskType[];\n}\n\ninterface taskType {\n  tasks: TaskType[];\n  taskContent: string;\n}\n\nexport const useTaskStore = defineStore({\n  id: 'tasks',\n  state: (): taskType => ({\n    tasks: [],\n    taskContent: '1',\n  }),\n  actions: {\n    // Fetch tasks\n    async fetchTasks() {\n      try {\n        const data = await axios.get('/api/data/task/TaskData');\n        this.tasks = data.data;\n      } catch (error) {\n        alert(error);\n        console.log(error);\n      }\n    },\n\n    //select chat\n    SelectTask(itemID: string) {\n      this.taskContent = itemID;\n    },\n\n    deleteTask(itemID: string) {\n      const taskObj = this.tasks.map((task) => {\n        const tasks = task.tasks?.filter((t) => t.id !== itemID);\n        return {\n          ...task,\n          tasks,\n        };\n      });\n      this.tasks = taskObj;\n    },\n    addTask(\n      columnId: string,\n      title: string,\n      subtitle: string,\n      category: string,\n      categorybg: string\n    ) {\n      const newTask = {\n        id: uniqueId('#task_'),\n        title: title,\n        subtitle: subtitle,\n        category: category,\n        date: sub(new Date(), { seconds: 1 }),\n        categorybg: categorybg,\n      };\n      this.tasks = map(this.tasks, (task: any) => {\n        if (task.id === columnId) {\n          return {\n            ...task,\n            ...task.tasks.push(newTask),\n          };\n        }\n        return task;\n      });\n    },\n  },\n});\n","<script setup lang=\"ts\">\nimport { ref } from 'vue';\nimport { useTaskStore } from '@/stores/apps/kanban/task';\nimport { formatDistanceToNowStrict } from 'date-fns';\n\nconst props = defineProps({\n  task: null,\n});\n\n// common components\nconst dialog = ref(false);\nconst store = useTaskStore();\n\nfunction save() {\n  return (dialog.value = false);\n}\nfunction cancel() {\n  return (dialog.value = false);\n}\n</script>\n\n<template>\n  <!-- ---------------------------------------------------- -->\n  <!-- Table Basic -->\n  <!-- ---------------------------------------------------- -->\n  <v-card elevation=\"10\" class=\"mb-5\">\n    <div class=\"d-flex align-center justify-space-between px-4 py-2 pr-3\">\n      <h5 class=\"text-subtitle-2 font-weight-semibold pr-4 cursor-move\">{{ task?.title }}</h5>\n      <NuxtLink to=\"\" class=\"px-0 cursor-pointer\">\n        <DotsVerticalIcon size=\"15\" />\n\n        <v-menu activator=\"parent\">\n          <v-list density=\"compact\">\n            <v-list-item value=\"Edit\">\n              <v-list-item-title @click=\"dialog = true\">Edit</v-list-item-title>\n            </v-list-item>\n            <v-list-item value=\"Delete\">\n              <v-list-item-title @click=\"store.deleteTask(task?.id)\">Delete</v-list-item-title>\n            </v-list-item>\n          </v-list>\n        </v-menu>\n      </NuxtLink>\n      <v-dialog v-model=\"dialog\" max-width=\"500\">\n        <v-card>\n          <v-card-text class=\"mb-4\">\n            <h4 class=\"text-h6 mb-5\">Edit Task</h4>\n            <v-text-field outlined name=\"Task\" v-model=\"task.title\" label=\"Title\"></v-text-field>\n            <v-textarea\n              outlined\n              name=\"Task-subtitle\"\n              v-model=\"task.subtitle\"\n              label=\"Subtitle\"\n            ></v-textarea>\n            <v-select\n              label=\"Select\"\n              v-model=\"task.category\"\n              variant=\"outlined\"\n              :items=\"['Mobile', 'Design', 'Development']\"\n            ></v-select>\n            <v-select\n              label=\"Select\"\n              v-model=\"task.categorybg\"\n              variant=\"outlined\"\n              :items=\"['primary', 'warning', 'success', 'error']\"\n            ></v-select>\n            <v-btn color=\"primary\" class=\"rounded-pill mr-2\" variant=\"flat\" @click=\"save\"\n              >Save</v-btn\n            >\n            <v-btn color=\"error\" variant=\"flat\" class=\"rounded-pill\" @click=\"cancel\">Cancel</v-btn>\n          </v-card-text>\n        </v-card>\n      </v-dialog>\n    </div>\n    <!-- IF IMAGE -->\n    <v-img\n      v-if=\"task?.taskimg\"\n      :src=\"task?.taskimg\"\n      height=\"110px\"\n      cover\n      class=\"w-100 mb-3\"\n    ></v-img>\n    <!-- IF SUBTEXT -->\n    <p v-if=\"task?.subtitle\" class=\"text-subtitle-2 px-4\">{{ task?.subtitle }}</p>\n\n    <div class=\"d-flex align-center justify-space-between px-4 py-3\">\n      <div class=\"d-flex align-center\">\n        <CalendarIcon size=\"16\" />\n        <div class=\"body-text-1 text-dark pl-2\">\n          {{\n            formatDistanceToNowStrict(new Date(task?.date), {\n              addSuffix: false,\n            })\n          }}\n          ago\n        </div>\n      </div>\n      <div :class=\"'rounded-sm body-text-1 px-1 py-0 bg-' + task?.categorybg\" size=\"small\">\n        {{ task?.category }}\n      </div>\n    </div>\n  </v-card>\n</template>\n","<script setup lang=\"ts\">\nimport { ref } from 'vue';\nimport { useTaskStore } from '@/stores/apps/kanban/task';\nimport TaskItemCard from './TaskItemCard.vue';\n\nconst props = defineProps({\n  column: Object,\n});\n\n// common components\nconst dialog = ref(false);\nconst store = useTaskStore();\nconst title = ref('');\nconst subtitle = ref('');\nconst category = ref('Mobile');\nconst categorybg = ref('primary');\nconst columnId = ref(props.column?.id);\n\nfunction addItemAndClear() {\n  (title.value = ''),\n    (subtitle.value = ''),\n    (category.value = 'Mobile'),\n    (categorybg.value = 'primary');\n}\n</script>\n\n<template>\n  <v-card elevation=\"10\" :class=\"'bg-' + column?.cardbg\">\n    <div class=\"pa-5\">\n      <div class=\"d-flex align-center justify-space-between\">\n        <h6 class=\"text-h6 font-weight-semibold\">{{ column?.title }}</h6>\n\n        <v-avatar\n          size=\"22\"\n          elevation=\"10\"\n          class=\"bg-surface d-flex align-center cursor-pointer\"\n          @click=\"dialog = true\"\n        >\n          <v-tooltip activator=\"parent\" location=\"top\">Add Task </v-tooltip>\n          <PlusIcon size=\"13\" stroke-width=\"2\" />\n        </v-avatar>\n      </div>\n      <draggable\n        class=\"dragArea list-group mt-6\"\n        :list=\"column?.tasks\"\n        :animation=\"200\"\n        ghost-class=\"ghost-card\"\n        group=\"tasks\"\n      >\n        <transition-group>\n          <div v-for=\"task in column?.tasks\" :key=\"task.id\" :task=\"task\" class=\"mt-3 cursor-move\">\n            <TaskItemCard :task=\"task\" />\n          </div>\n        </transition-group>\n      </draggable>\n    </div>\n    <v-dialog v-model=\"dialog\" max-width=\"500\">\n      <v-card>\n        <v-card-text class=\"mb-4\">\n          <h4 class=\"text-h6 mb-5\">Add Task</h4>\n          <form\n            @submit.prevent=\"\n              (store.addTask(columnId, title, subtitle, category, categorybg), addItemAndClear())\n            \"\n          >\n            <v-text-field outlined name=\"Task\" v-model=\"title\" label=\"Title\"></v-text-field>\n            <v-textarea\n              outlined\n              name=\"Task-subtitle\"\n              v-model=\"subtitle\"\n              label=\"Subtitle\"\n            ></v-textarea>\n            <v-select\n              label=\"Select\"\n              v-model=\"category\"\n              variant=\"outlined\"\n              :items=\"['Mobile', 'Design', 'Development']\"\n            ></v-select>\n            <v-select\n              label=\"Select\"\n              v-model=\"categorybg\"\n              variant=\"outlined\"\n              :items=\"['primary', 'warning', 'success', 'error']\"\n            ></v-select>\n            <v-btn\n              color=\"primary\"\n              class=\"rounded-pill\"\n              variant=\"flat\"\n              type=\"submit\"\n              :disabled=\"title == ''\"\n              @click=\"dialog = false\"\n              >Save</v-btn\n            >\n          </form>\n        </v-card-text>\n      </v-card>\n    </v-dialog>\n  </v-card>\n</template>\n","<script lang=\"ts\" setup>\nimport { ref, onMounted, computed } from 'vue';\n// common components\nimport TaskColumn from './TaskColumn.vue';\nimport { useTaskStore } from '@/stores/apps/kanban/task';\n\nconst store = useTaskStore();\n\nonMounted(() => {\n  store.fetchTasks();\n});\n\nconst getTasks = computed(() => {\n  return store.tasks;\n});\n\nconst columns = getTasks;\n</script>\n\n<template>\n  <v-card elevation=\"10\">\n    <div class=\"pa-5\">\n      <h5 class=\"text-h5 font-weight-semibold mb-7\">Kanban Application</h5>\n      <v-row>\n        <v-col cols=\"12\" md=\"3\" sm=\"6\" class=\"d-flex\" v-for=\"column in columns\" :key=\"column.id\">\n          <TaskColumn :column=\"column\" />\n        </v-col>\n      </v-row>\n    </div>\n  </v-card>\n</template>\n"],"names":["axios"],"mappings":"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"}