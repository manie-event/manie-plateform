{"version":3,"file":"_id_-KPdWzWkP.js","sources":["../../../../components/apps/invoice/Detail.vue","../../../../pages/apps/invoice/details/[id].vue"],"sourcesContent":["<script setup lang=\"ts\">\nimport { useRouter, useRoute } from 'vue-router';\nimport { computed, onMounted, ref } from 'vue';\nimport { useInvoicestore } from '@/stores/apps/invoice';\nimport type { InvoiceType } from '@/types/apps/InvoiceTypes';\nimport Logo from '~/components/lc/Full/logo/Logo.vue';\n\nconst route = useRoute();\nconst store = useInvoicestore();\n\nconst invoiceId = route.params.id;\n\nconst invoiceDetail = ref<InvoiceType | null>(null);\n\nconst vatRate = 0.1;\n\n// Calculate subtotal\nconst subtotal = computed(() => {\n  return (invoiceDetail.value?.orders ?? []).reduce((sum, order) => {\n    return sum + (order.unitPrice ?? 0) * (order.units ?? 0);\n  }, 0);\n});\n// Calculate VAT (10%)\nconst vat = computed(() => {\n  return subtotal.value * vatRate;\n});\n\n// Calculate grand total (Subtotal + VAT)\nconst grandTotal = computed(() => {\n  return subtotal.value + vat.value;\n});\n\nonMounted(async () => {\n  await store.fetchinvoice();\n\n  invoiceDetail.value = store.invoice.find((invoice) => invoice.id === Number(invoiceId)) || null;\n\n  if (!invoiceDetail.value) {\n    console.error('Invoice not found');\n  }\n});\n\nconst calculateTotalCost = (unitPrice: number | undefined, units: number | undefined): number => {\n  return (unitPrice ?? 0) * (units ?? 0);\n};\n</script>\n\n<template>\n  <v-card elevation=\"10\">\n    <v-card-item>\n      <div v-if=\"invoiceDetail\">\n        <div class=\"d-flex justify-space-between align-content-start mb-6\">\n          <Logo />\n          <div>\n            <v-chip\n              rounded=\"pill\"\n              :color=\"\n                invoiceDetail.status === 'Shipped'\n                  ? 'success'\n                  : invoiceDetail.status === 'Delivered'\n                    ? 'info'\n                    : invoiceDetail.status === 'Pending'\n                      ? 'warning'\n                      : 'primary'\n              \"\n              variant=\"flat\"\n              size=\"small\"\n              label\n              >{{ invoiceDetail.status }}</v-chip\n            >\n            <h5 class=\"text-20 text-end mt-1\"># {{ invoiceDetail.id }}</h5>\n          </div>\n        </div>\n        <div class=\"mb-6\">\n          <v-row>\n            <v-col cols=\"12\" lg=\"6\">\n              <h6 class=\"text-h6\">Bill From</h6>\n              <div class=\"text-14 textSecondary lh-normal\">\n                <p>{{ invoiceDetail.billFrom }}</p>\n                <p>{{ invoiceDetail.billFromEmail }}</p>\n                <p>{{ invoiceDetail.billFromAddress }}</p>\n                <p>{{ invoiceDetail.billFromPhone }}</p>\n              </div>\n            </v-col>\n            <v-col cols=\"12\" lg=\"6\" class=\"text-end\">\n              <h6 class=\"text-h6\">Bill To</h6>\n              <div class=\"text-14 textSecondary lh-normal\">\n                <p>{{ invoiceDetail.billTo }}</p>\n                <p>{{ invoiceDetail.billToEmail }}</p>\n                <p>{{ invoiceDetail.billToAddress }}</p>\n                <p>{{ invoiceDetail.billToPhone }}</p>\n              </div>\n            </v-col>\n          </v-row>\n        </div>\n\n        <v-table class=\"invoice-table\">\n          <template v-slot:default>\n            <thead>\n              <tr>\n                <th class=\"text-14 text-no-wrap\">Item Name</th>\n                <th class=\"text-14 text-no-wrap\">Unit Price</th>\n                <th class=\"text-14 text-no-wrap\">Unit</th>\n                <th class=\"text-14 text-no-wrap text-end\">Total Cost</th>\n              </tr>\n            </thead>\n            <tbody>\n              <tr v-for=\"invoice in invoiceDetail.orders\" :key=\"invoice.itemName\">\n                <td class=\"text-14 font-weight-semibold\">\n                  {{ invoice.itemName }}\n                </td>\n                <td class=\"text-14\">{{ invoice.unitPrice }}</td>\n                <td class=\"text-14\">{{ invoice.units }}</td>\n                <td class=\"text-14 font-weight-semibold text-end\">\n                  {{ calculateTotalCost(invoice.unitPrice, invoice.units) }}\n                </td>\n              </tr>\n            </tbody>\n          </template>\n        </v-table>\n        <v-row class=\"d-flex justify-end border-t mt-1\">\n          <v-col cols=\"12\" md=\"3\" class=\"mt-3\">\n            <div\n              class=\"d-flex align-center justify-space-between text-14 font-weight-semibold mb-4\"\n            >\n              <p class=\"text-muted\">Sub Total:</p>\n              <p class=\"text-16\">{{ subtotal }}</p>\n            </div>\n            <div\n              class=\"d-flex align-center justify-space-between text-14 font-weight-semibold mb-4\"\n            >\n              <p class=\"text-muted\">Vat:</p>\n              <p class=\"text-16\">{{ vat }}</p>\n            </div>\n            <div class=\"d-flex align-center justify-space-between text-14 font-weight-semibold\">\n              <p class=\"text-muted\">Grand Total:</p>\n              <p class=\"text-16\">{{ grandTotal }}</p>\n            </div>\n          </v-col>\n        </v-row>\n        <div class=\"d-flex ga-3 justify-end mt-6\">\n          <v-btn color=\"warning\" :to=\"`/apps/invoice/edit/${invoiceDetail.id}`\" flat rounded=\"pill\"\n            >Edit Invoice</v-btn\n          >\n          <v-btn to=\"/apps/invoice\" color=\"primary\" rounded=\"pill\" flat>Back To Invoice List</v-btn>\n        </div>\n      </div>\n      <div v-else>\n        <p>No Data</p>\n      </div>\n    </v-card-item>\n  </v-card>\n</template>\n","<script setup lang=\"ts\">\nimport { ref } from 'vue';\n// common components\nimport BaseBreadcrumb from '@/components/shared/BaseBreadcrumb.vue';\nimport InvoiceDetail from '@/components/apps/invoice/Detail.vue';\n\nconst page = ref({ title: 'Invoice Details' });\nconst breadcrumbs = ref([\n  {\n    text: 'Dashboard',\n    disabled: false,\n    href: '#',\n  },\n  {\n    text: 'Invoice Details',\n    disabled: true,\n    href: '#',\n  },\n]);\n</script>\n\n<template>\n  <BaseBreadcrumb :title=\"page.title\" :breadcrumbs=\"breadcrumbs\"></BaseBreadcrumb>\n  <InvoiceDetail />\n</template>\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAcA,MAAM,UAAU;;;;;AAPhB,UAAM,QAAQ,SAAS;AACT,oBAAgB;AAEZ,UAAM,OAAO;AAEzB,UAAA,gBAAgB,IAAwB,IAAI;AAK5C,UAAA,WAAW,SAAS,MAAM;;AACtB,gBAAA,mBAAc,UAAd,mBAAqB,WAAU,IAAI,OAAO,CAAC,KAAK,UAAU;AAChE,eAAO,OAAO,MAAM,aAAa,MAAM,MAAM,SAAS;AAAA,SACrD,CAAC;AAAA,IAAA,CACL;AAEK,UAAA,MAAM,SAAS,MAAM;AACzB,aAAO,SAAS,QAAQ;AAAA,IAAA,CACzB;AAGK,UAAA,aAAa,SAAS,MAAM;AACzB,aAAA,SAAS,QAAQ,IAAI;AAAA,IAAA,CAC7B;AAYK,UAAA,qBAAqB,CAAC,WAA+B,UAAsC;AACvF,cAAA,aAAa,MAAM,SAAS;AAAA,IACtC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACtCA,UAAM,OAAO,IAAI,EAAE,OAAO,mBAAmB;AAC7C,UAAM,cAAc,IAAI;AAAA,MACtB;AAAA,QACE,MAAM;AAAA,QACN,UAAU;AAAA,QACV,MAAM;AAAA,MACR;AAAA,MACA;AAAA,QACE,MAAM;AAAA,QACN,UAAU;AAAA,QACV,MAAM;AAAA,MAAA;AAAA,IACR,CACD;;;;;;;;;;;;;;;;;;"}