{"version":3,"file":"LoginForm-DIO5wzcR.js","sources":["../../../../components/auth/LoginForm.vue"],"sourcesContent":["<script setup lang=\"ts\">\nimport { Form } from 'vee-validate';\nimport { ref } from 'vue';\nimport { useAuthentification } from '../../composables/UseAuthentification';\nimport errorToaster from '../common/errorToaster.vue';\n\n/*Social icons*/\n// import google from \"/images/svgs/google-icon.svg\";\n// import facebook from \"/images/svgs/icon-facebook.svg\";\n\nconst router = useRouter();\nconst checkbox = ref(false);\nconst valid = ref(false);\nconst authentification = ref({\n  password: '',\n  email: '',\n});\nconst { sendLogin } = useAuthentification();\nconst passwordRules = ref([\n  (v: string) => !!v || 'Le mot de passe est obligatoire',\n  (v: string) => (v && v.length >= 10) || 'Le mot de passe doit faire 10 caractères minimum',\n]);\nconst emailRules = ref([\n  (v: string) => !!v || \"L'e-mail est obligatoire\",\n  (v: string) => /.+@.+\\..+/.test(v) || \"L'e-mail doit être valide\",\n]);\n\nconst validate = async () => {\n  const login = await sendLogin(authentification.value);\n  if (login && login.category) {\n    if (login.category === 'consumer') {\n      router.push({ path: '/dashboards/dashboard1' });\n    } else {\n      router.push({ path: '/dashboards/dashboard2' });\n    }\n  }\n};\n</script>\n\n<template>\n  <!-- <v-row class=\"d-flex mb-3\">\n        <v-col cols=\"6\" sm=\"6\">\n            <v-btn variant=\"outlined\" size=\"large\" class=\"border text-subtitle-1 text-gray200 font-weight-semibold\" block>\n                <img :src=\"google\" height=\"16\" class=\"mr-2\" alt=\"google\" />\n                <span class=\"d-sm-flex d-none mr-1\">Sign in with</span>Google\n            </v-btn>\n        </v-col>\n        <v-col cols=\"6\" sm=\"6\">\n            <v-btn variant=\"outlined\" size=\"large\" class=\"border text-subtitle-1 text-gray200 font-weight-semibold\" block>\n                <img :src=\"facebook\" width=\"25\" height=\"25\" class=\"mr-1\" alt=\"facebook\" />\n                <span class=\"d-sm-flex d-none mr-1\">Sign in with</span>FB\n            </v-btn>\n        </v-col>\n    </v-row> -->\n  <div class=\"d-flex align-center text-center mb-6\">\n    <div class=\"text-h6 w-100 px-5 font-weight-regular auth-divider position-relative\">\n      <span class=\"bg-surface px-5 py-3 position-relative text-subtitle-1 text-grey100\"\n        >Identifiez-vous avec</span\n      >\n    </div>\n  </div>\n  <Form @submit=\"validate\" v-slot=\"{ errors, isSubmitting }\" class=\"mt-5\">\n    <v-label class=\"text-subtitle-1 font-weight-semibold pb-2 text-grey200\">Email</v-label>\n    <VTextField\n      v-model=\"authentification.email\"\n      :rules=\"emailRules\"\n      class=\"mb-8\"\n      placeholder=\"info@manie.com\"\n      required\n      autocomplete=\"current-email\"\n      hide-details=\"auto\"\n    ></VTextField>\n    <v-label class=\"text-subtitle-1 font-weight-semibold pb-2 text-grey200\">Mot de passe</v-label>\n    <VTextField\n      v-model=\"authentification.password\"\n      :rules=\"passwordRules\"\n      required\n      hide-details=\"auto\"\n      placeholder=\"**********\"\n      type=\"password\"\n      autocomplete=\"current-password\"\n      class=\"pwdInput\"\n    ></VTextField>\n    <div class=\"d-flex flex-wrap align-center my-3 ml-n2\">\n      <v-checkbox\n        v-model=\"checkbox\"\n        :rules=\"[(v: any) => !!v || 'You must agree to continue!']\"\n        required\n        hide-details\n        color=\"primary\"\n      >\n        <template v-slot:label class=\"\">Se souvenir de cet appareil</template>\n      </v-checkbox>\n      <div class=\"ml-sm-auto\">\n        <NuxtLink\n          to=\"/auth/forgot-password\"\n          class=\"text-primary text-decoration-none text-body-1 opacity-1 font-weight-medium\"\n          >Mot de passe oublié ?</NuxtLink\n        >\n      </div>\n    </div>\n    <v-btn\n      size=\"large\"\n      rounded=\"pill\"\n      :loading=\"isSubmitting\"\n      color=\"primary\"\n      :disabled=\"valid\"\n      block\n      type=\"submit\"\n      flat\n      >M'identifier</v-btn\n    >\n    <div v-if=\"errors.apiError\" class=\"mt-2\">\n      <v-alert color=\"error\">{{ errors.apiError }}</v-alert>\n    </div>\n  </Form>\n  <Teleport to=\"body\">\n    <errorToaster />\n  </Teleport>\n</template>\n"],"names":[],"mappings":";;;;;;;;;;;AAUA,UAAM,SAAS,UAAU;AACnB,UAAA,WAAW,IAAI,KAAK;AACpB,UAAA,QAAQ,IAAI,KAAK;AACvB,UAAM,mBAAmB,IAAI;AAAA,MAC3B,UAAU;AAAA,MACV,OAAO;AAAA,IAAA,CACR;AACK,UAAA,EAAE,UAAU,IAAI,oBAAoB;AAC1C,UAAM,gBAAgB,IAAI;AAAA,MACxB,CAAC,MAAc,CAAC,CAAC,KAAK;AAAA,MACtB,CAAC,MAAe,KAAK,EAAE,UAAU,MAAO;AAAA,IAAA,CACzC;AACD,UAAM,aAAa,IAAI;AAAA,MACrB,CAAC,MAAc,CAAC,CAAC,KAAK;AAAA,MACtB,CAAC,MAAc,YAAY,KAAK,CAAC,KAAK;AAAA,IAAA,CACvC;AAED,UAAM,WAAW,YAAY;AAC3B,YAAM,QAAQ,MAAM,UAAU,iBAAiB,KAAK;AAChD,UAAA,SAAS,MAAM,UAAU;AACvB,YAAA,MAAM,aAAa,YAAY;AACjC,iBAAO,KAAK,EAAE,MAAM,yBAAA,CAA0B;AAAA,QAAA,OACzC;AACL,iBAAO,KAAK,EAAE,MAAM,yBAAA,CAA0B;AAAA,QAAA;AAAA,MAChD;AAAA,IAEJ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}