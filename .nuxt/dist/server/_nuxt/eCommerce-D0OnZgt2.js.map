{"version":3,"file":"eCommerce-D0OnZgt2.js","sources":["../../../../stores/apps/eCommerce.ts"],"sourcesContent":["import { defineStore } from 'pinia';\n// project imports\nimport axios from '@/utils/axios';\n// types\nimport type { ProductStateProps } from '@/types/apps/EcommerceType';\nimport { filter, map, sum } from 'lodash';\n\nexport const useEcomStore = defineStore({\n  id: 'eCommerceone',\n  state: (): ProductStateProps => ({\n    products: [],\n    cart: [],\n    gender: '',\n    category: [],\n    price: '',\n    subTotal: 0,\n    discount: 5,\n    total: 0,\n    addresses: [],\n    color: 'All',\n  }),\n  getters: {},\n  actions: {\n    // Fetch Customers from action\n    async fetchProducts() {\n      try {\n        const data = await axios.get('/api/products/one');\n        // const data = await axios.get('/api/beautyproducts/list');\n        this.products = data.data;\n      } catch (error) {\n        alert(error);\n        console.log(error);\n      }\n    },\n    // Fetch Customers from addresses\n    async fetchAddress() {\n      try {\n        const data = await axios.get('/api/address/list');\n        this.addresses = data.data;\n      } catch (error) {\n        alert(error);\n        console.log(error);\n      }\n    },\n    //select gender\n    SelectGender(items: any) {\n      this.gender = items;\n    },\n    sortByColor(itemcolor: string) {\n      this.color = itemcolor;\n    },\n    //select category\n    SelectCategory(items: any) {\n      this.category = items;\n    },\n    //select Price\n    SelectPrice(items: any) {\n      this.price = items;\n    },\n    //AddToCart\n    AddToCart(item: any) {\n      const product = item;\n      this.cart = [...this.cart, product];\n    },\n    //qty\n    incrementQty(item: any) {\n      const productId = item;\n      const updateCart = map(this.cart, (product: any) => {\n        if (product.id === productId) {\n          return {\n            ...product,\n            qty: product.qty + 1,\n          };\n        }\n        return product;\n      });\n      this.cart = updateCart;\n      this.subTotal = sum(this.cart.map((product: any) => product.salePrice * product.qty));\n      this.discount = Math.round(this.subTotal * (5 / 100));\n      this.total = this.subTotal - this.discount;\n    },\n    //qty\n    decrementQty(item: any) {\n      const productId = item;\n      const updateCart = map(this.cart, (product: any) => {\n        if (product.id === productId) {\n          return {\n            ...product,\n            qty: product.qty - 1,\n          };\n        }\n        return product;\n      });\n      this.cart = updateCart;\n      this.subTotal = sum(this.cart.map((product: any) => product.salePrice * product.qty));\n      this.subTotal = sum(this.cart.map((product: any) => product.salePrice * product.qty));\n      this.discount = Math.round(this.subTotal * (5 / 100));\n      this.total = this.subTotal - this.discount;\n    },\n    // delete Cart\n    deleteCart(item: any) {\n      const updateCart = filter(this.cart, (p) => p.id !== item);\n      this.cart = updateCart;\n    },\n    //subtotal\n    getsubTotal() {\n      this.subTotal = sum(this.cart.map((product: any) => product.salePrice * product.qty));\n    },\n    //total\n    getTotal() {\n      this.total = this.subTotal - this.discount;\n    },\n    //discount\n    getDiscount() {\n      this.discount = Math.round(this.subTotal * (5 / 100));\n    },\n\n    //Reset Filter\n    filterReset() {},\n  },\n});\n"],"names":["axios"],"mappings":"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"}