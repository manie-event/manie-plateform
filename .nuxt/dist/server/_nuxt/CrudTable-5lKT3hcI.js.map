{"version":3,"file":"CrudTable-5lKT3hcI.js","sources":["../../../../pages/datatables/CrudTable.vue"],"sourcesContent":["<script setup>\nimport { computed, nextTick, ref, watch } from 'vue';\nimport BaseBreadcrumb from '@/components/shared/BaseBreadcrumb.vue';\nimport UiParentCard from '@/components/shared/UiParentCard.vue';\nconst page = ref({ title: 'CRUD Table' });\nconst breadcrumbs = ref([\n  {\n    text: 'Dashboard',\n    disabled: false,\n    href: '#',\n  },\n  {\n    text: 'CRUD Table',\n    disabled: true,\n    href: '#',\n  },\n]);\n\nconst dialog = ref(false);\nconst dialogDelete = ref(false);\nconst headers = ref([\n  {\n    title: 'Dessert (100g serving)',\n    align: 'start',\n    sortable: false,\n    key: 'name',\n  },\n  { title: 'Calories', key: 'calories' },\n  { title: 'Fat (g)', key: 'fat' },\n  { title: 'Carbs (g)', key: 'carbs' },\n  { title: 'Protein (g)', key: 'protein' },\n  { title: 'Actions', key: 'actions', sortable: false },\n]);\nconst desserts = ref([]);\nconst editedIndex = ref(-1);\nconst editedItem = ref({\n  name: '',\n  calories: 0,\n  fat: 0,\n  carbs: 0,\n  protein: 0,\n});\nconst defaultItem = ref({\n  name: '',\n  calories: 0,\n  fat: 0,\n  carbs: 0,\n  protein: 0,\n});\nconst formTitle = computed(() => {\n  return editedIndex.value === -1 ? 'New Item' : 'Edit Item';\n});\nfunction initialize() {\n  desserts.value = [\n    {\n      name: 'Frozen Yogurt',\n      calories: 159,\n      fat: 6,\n      carbs: 24,\n      protein: 4,\n    },\n    {\n      name: 'Ice cream sandwich',\n      calories: 237,\n      fat: 9,\n      carbs: 37,\n      protein: 4.3,\n    },\n    {\n      name: 'Eclair',\n      calories: 262,\n      fat: 16,\n      carbs: 23,\n      protein: 6,\n    },\n    {\n      name: 'Cupcake',\n      calories: 305,\n      fat: 3.7,\n      carbs: 67,\n      protein: 4.3,\n    },\n    {\n      name: 'Gingerbread',\n      calories: 356,\n      fat: 16,\n      carbs: 49,\n      protein: 3.9,\n    },\n    {\n      name: 'Jelly bean',\n      calories: 375,\n      fat: 0,\n      carbs: 94,\n      protein: 0,\n    },\n    {\n      name: 'Lollipop',\n      calories: 392,\n      fat: 0.2,\n      carbs: 98,\n      protein: 0,\n    },\n    {\n      name: 'Honeycomb',\n      calories: 408,\n      fat: 3.2,\n      carbs: 87,\n      protein: 6.5,\n    },\n    {\n      name: 'Donut',\n      calories: 452,\n      fat: 25,\n      carbs: 51,\n      protein: 4.9,\n    },\n    {\n      name: 'KitKat',\n      calories: 518,\n      fat: 26,\n      carbs: 65,\n      protein: 7,\n    },\n  ];\n}\nfunction editItem(item) {\n  editedIndex.value = desserts.value.indexOf(item);\n  editedItem.value = Object.assign({}, item);\n  dialog.value = true;\n}\nfunction deleteItem(item) {\n  editedIndex.value = desserts.value.indexOf(item);\n  editedItem.value = Object.assign({}, item);\n  dialogDelete.value = true;\n}\nfunction deleteItemConfirm() {\n  desserts.value.splice(editedIndex.value, 1);\n  closeDelete();\n}\nfunction close() {\n  dialog.value = false;\n  nextTick(() => {\n    editedItem.value = Object.assign({}, defaultItem.value);\n    editedIndex.value = -1;\n  });\n}\nfunction closeDelete() {\n  dialogDelete.value = false;\n  nextTick(() => {\n    editedItem.value = Object.assign({}, defaultItem.value);\n    editedIndex.value = -1;\n  });\n}\nfunction save() {\n  if (editedIndex.value > -1) {\n    Object.assign(desserts.value[editedIndex.value], editedItem.value);\n  } else {\n    desserts.value.push(editedItem.value);\n  }\n  close();\n}\nwatch(dialog, (val) => {\n  val || close();\n});\nwatch(dialogDelete, (val) => {\n  val || closeDelete();\n});\ninitialize();\n</script>\n\n<template>\n  <BaseBreadcrumb :title=\"page.title\" :breadcrumbs=\"breadcrumbs\"></BaseBreadcrumb>\n  <v-row>\n    <v-col cols=\"12\">\n      <UiParentCard title=\"Crud Table\">\n        <v-data-table\n          class=\"border rounded-md crud-tbl\"\n          :headers=\"headers\"\n          :items=\"desserts\"\n          :sort-by=\"[{ key: 'calories', order: 'asc' }]\"\n        >\n          <template v-slot:top>\n            <v-toolbar flat class=\"border-bottom\">\n              <v-toolbar-title>My Crud Table</v-toolbar-title>\n              <v-spacer></v-spacer>\n              <v-dialog v-model=\"dialog\" max-width=\"500px\">\n                <template v-slot:activator=\"{ props }\">\n                  <v-btn color=\"primary\" variant=\"flat\" dark v-bind=\"props\">Add New Item</v-btn>\n                </template>\n                <v-card>\n                  <v-card-title class=\"pa-4 pb-0\">\n                    <span class=\"text-h5\">{{ formTitle }}</span>\n                  </v-card-title>\n\n                  <v-card-text>\n                    <v-container class=\"px-0\">\n                      <v-row>\n                        <v-col cols=\"12\" sm=\"6\" md=\"4\">\n                          <v-text-field\n                            v-model=\"editedItem.name\"\n                            label=\"Dessert name\"\n                          ></v-text-field>\n                        </v-col>\n                        <v-col cols=\"12\" sm=\"6\" md=\"4\">\n                          <v-text-field\n                            v-model=\"editedItem.calories\"\n                            label=\"Calories\"\n                          ></v-text-field>\n                        </v-col>\n                        <v-col cols=\"12\" sm=\"6\" md=\"4\">\n                          <v-text-field v-model=\"editedItem.fat\" label=\"Fat (g)\"></v-text-field>\n                        </v-col>\n                        <v-col cols=\"12\" sm=\"6\" md=\"4\">\n                          <v-text-field v-model=\"editedItem.carbs\" label=\"Carbs (g)\"></v-text-field>\n                        </v-col>\n                        <v-col cols=\"12\" sm=\"6\" md=\"4\">\n                          <v-text-field\n                            v-model=\"editedItem.protein\"\n                            label=\"Protein (g)\"\n                          ></v-text-field>\n                        </v-col>\n                      </v-row>\n                    </v-container>\n                  </v-card-text>\n\n                  <v-card-actions class=\"pa-6\">\n                    <v-spacer></v-spacer>\n                    <v-btn color=\"error\" variant=\"flat\" dark @click=\"close\"> Cancel </v-btn>\n                    <v-btn color=\"success\" variant=\"flat\" dark @click=\"save\"> Save </v-btn>\n                  </v-card-actions>\n                </v-card>\n              </v-dialog>\n              <v-dialog v-model=\"dialogDelete\" max-width=\"500px\">\n                <v-card>\n                  <v-card-title class=\"text-h5 text-center py-6\"\n                    >Are you sure you want to delete this item?</v-card-title\n                  >\n                  <v-card-actions class=\"pa-6\">\n                    <v-spacer></v-spacer>\n                    <v-btn color=\"error\" variant=\"flat\" dark @click=\"closeDelete\">Cancel</v-btn>\n                    <v-btn color=\"success\" variant=\"flat\" dark @click=\"deleteItemConfirm\">OK</v-btn>\n                    <v-spacer></v-spacer>\n                  </v-card-actions>\n                </v-card>\n              </v-dialog>\n            </v-toolbar>\n          </template>\n          <template v-slot:item.actions=\"{ item }\">\n            <v-icon color=\"info\" size=\"small\" class=\"me-2\" @click=\"editItem(item)\">\n              mdi-pencil\n            </v-icon>\n            <v-icon color=\"error\" size=\"small\" @click=\"deleteItem(item)\"> mdi-delete </v-icon>\n          </template>\n          <template v-slot:no-data>\n            <v-btn color=\"primary\" @click=\"initialize\"> Reset </v-btn>\n          </template>\n        </v-data-table>\n      </UiParentCard>\n    </v-col>\n  </v-row>\n</template>\n"],"names":[],"mappings":";;;;;;;;AAIA,UAAM,OAAO,IAAI,EAAE,OAAO,aAAY,CAAE;AACxC,UAAM,cAAc,IAAI;AAAA,MACtB;AAAA,QACE,MAAM;AAAA,QACN,UAAU;AAAA,QACV,MAAM;AAAA,MACP;AAAA,MACD;AAAA,QACE,MAAM;AAAA,QACN,UAAU;AAAA,QACV,MAAM;AAAA,MACP;AAAA,IACH,CAAC;AAED,UAAM,SAAS,IAAI,KAAK;AACxB,UAAM,eAAe,IAAI,KAAK;AAC9B,UAAM,UAAU,IAAI;AAAA,MAClB;AAAA,QACE,OAAO;AAAA,QACP,OAAO;AAAA,QACP,UAAU;AAAA,QACV,KAAK;AAAA,MACN;AAAA,MACD,EAAE,OAAO,YAAY,KAAK,WAAY;AAAA,MACtC,EAAE,OAAO,WAAW,KAAK,MAAO;AAAA,MAChC,EAAE,OAAO,aAAa,KAAK,QAAS;AAAA,MACpC,EAAE,OAAO,eAAe,KAAK,UAAW;AAAA,MACxC,EAAE,OAAO,WAAW,KAAK,WAAW,UAAU,MAAO;AAAA,IACvD,CAAC;AACD,UAAM,WAAW,IAAI,EAAE;AACvB,UAAM,cAAc,IAAI,EAAE;AAC1B,UAAM,aAAa,IAAI;AAAA,MACrB,MAAM;AAAA,MACN,UAAU;AAAA,MACV,KAAK;AAAA,MACL,OAAO;AAAA,MACP,SAAS;AAAA,IACX,CAAC;AACD,UAAM,cAAc,IAAI;AAAA,MACtB,MAAM;AAAA,MACN,UAAU;AAAA,MACV,KAAK;AAAA,MACL,OAAO;AAAA,MACP,SAAS;AAAA,IACX,CAAC;AACD,UAAM,YAAY,SAAS,MAAM;AAC/B,aAAO,YAAY,UAAU,KAAK,aAAa;AAAA,IACjD,CAAC;AACD,aAAS,aAAa;AACpB,eAAS,QAAQ;AAAA,QACf;AAAA,UACE,MAAM;AAAA,UACN,UAAU;AAAA,UACV,KAAK;AAAA,UACL,OAAO;AAAA,UACP,SAAS;AAAA,QACV;AAAA,QACD;AAAA,UACE,MAAM;AAAA,UACN,UAAU;AAAA,UACV,KAAK;AAAA,UACL,OAAO;AAAA,UACP,SAAS;AAAA,QACV;AAAA,QACD;AAAA,UACE,MAAM;AAAA,UACN,UAAU;AAAA,UACV,KAAK;AAAA,UACL,OAAO;AAAA,UACP,SAAS;AAAA,QACV;AAAA,QACD;AAAA,UACE,MAAM;AAAA,UACN,UAAU;AAAA,UACV,KAAK;AAAA,UACL,OAAO;AAAA,UACP,SAAS;AAAA,QACV;AAAA,QACD;AAAA,UACE,MAAM;AAAA,UACN,UAAU;AAAA,UACV,KAAK;AAAA,UACL,OAAO;AAAA,UACP,SAAS;AAAA,QACV;AAAA,QACD;AAAA,UACE,MAAM;AAAA,UACN,UAAU;AAAA,UACV,KAAK;AAAA,UACL,OAAO;AAAA,UACP,SAAS;AAAA,QACV;AAAA,QACD;AAAA,UACE,MAAM;AAAA,UACN,UAAU;AAAA,UACV,KAAK;AAAA,UACL,OAAO;AAAA,UACP,SAAS;AAAA,QACV;AAAA,QACD;AAAA,UACE,MAAM;AAAA,UACN,UAAU;AAAA,UACV,KAAK;AAAA,UACL,OAAO;AAAA,UACP,SAAS;AAAA,QACV;AAAA,QACD;AAAA,UACE,MAAM;AAAA,UACN,UAAU;AAAA,UACV,KAAK;AAAA,UACL,OAAO;AAAA,UACP,SAAS;AAAA,QACV;AAAA,QACD;AAAA,UACE,MAAM;AAAA,UACN,UAAU;AAAA,UACV,KAAK;AAAA,UACL,OAAO;AAAA,UACP,SAAS;AAAA,QACV;AAAA,MACF;AAAA,IACH;AACA,aAAS,SAAS,MAAM;AACtB,kBAAY,QAAQ,SAAS,MAAM,QAAQ,IAAI;AAC/C,iBAAW,QAAQ,OAAO,OAAO,CAAA,GAAI,IAAI;AACzC,aAAO,QAAQ;AAAA,IACjB;AACA,aAAS,WAAW,MAAM;AACxB,kBAAY,QAAQ,SAAS,MAAM,QAAQ,IAAI;AAC/C,iBAAW,QAAQ,OAAO,OAAO,CAAA,GAAI,IAAI;AACzC,mBAAa,QAAQ;AAAA,IACvB;AACA,aAAS,oBAAoB;AAC3B,eAAS,MAAM,OAAO,YAAY,OAAO,CAAC;AAC1C,kBAAa;AAAA,IACf;AACA,aAAS,QAAQ;AACf,aAAO,QAAQ;AACf,eAAS,MAAM;AACb,mBAAW,QAAQ,OAAO,OAAO,CAAE,GAAE,YAAY,KAAK;AACtD,oBAAY,QAAQ;AAAA,MACxB,CAAG;AAAA,IACH;AACA,aAAS,cAAc;AACrB,mBAAa,QAAQ;AACrB,eAAS,MAAM;AACb,mBAAW,QAAQ,OAAO,OAAO,CAAE,GAAE,YAAY,KAAK;AACtD,oBAAY,QAAQ;AAAA,MACxB,CAAG;AAAA,IACH;AACA,aAAS,OAAO;AACd,UAAI,YAAY,QAAQ,IAAI;AAC1B,eAAO,OAAO,SAAS,MAAM,YAAY,KAAK,GAAG,WAAW,KAAK;AAAA,MACrE,OAAS;AACL,iBAAS,MAAM,KAAK,WAAW,KAAK;AAAA,MACxC;AACE,YAAO;AAAA,IACT;AACA,UAAM,QAAQ,CAAC,QAAQ;AACrB,aAAO,MAAO;AAAA,IAChB,CAAC;AACD,UAAM,cAAc,CAAC,QAAQ;AAC3B,aAAO,YAAa;AAAA,IACtB,CAAC;AACD,eAAY;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}