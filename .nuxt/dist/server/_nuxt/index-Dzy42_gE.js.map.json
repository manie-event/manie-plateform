{"file":"index-Dzy42_gE.js","mappings":"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","names":[],"sources":["../../../../components/apps/invoice/List.vue","../../../../pages/apps/invoice/index.vue"],"sourcesContent":["<script setup lang=\"ts\">\nimport { ref, onMounted, computed, watch } from 'vue';\nimport { useInvoicestore } from '@/stores/apps/invoice';\nimport { Icon } from '@iconify/vue';\n\nconst store = useInvoicestore();\n\nconst showConfirmation = ref(false);\nconst ticketIdToDelete = ref<number | null>(null);\nonMounted(async () => {\n  await store.fetchinvoice();\n  setInvoiceType(InvoiceTypeVal.value);\n});\n\nconst getInvoice = computed(() => store.invoice);\nconsole.log('list', getInvoice);\nlet FinalInvoice = ref([...getInvoice.value]);\n\nconst searchValue = ref('');\nconst InvoiceTypeVal = ref('total');\n\nconst setInvoiceType = (type: string) => {\n  InvoiceTypeVal.value = type;\n  console.log(`InvoiceTypeVal changed to: ${type}`);\n\n  if (InvoiceTypeVal.value === 'total') {\n    FinalInvoice.value = [...getInvoice.value];\n  } else {\n    FinalInvoice.value = getInvoice.value.filter((ticket: any) => {\n      console.log('Filtering ticket:', ticket);\n      return ticket.status && ticket.status.toLowerCase() === InvoiceTypeVal.value.toLowerCase();\n    });\n  }\n  applySearchFilter();\n};\n\nconst applySearchFilter = () => {\n  if (InvoiceTypeVal.value === 'total') {\n    FinalInvoice.value = [...getInvoice.value];\n  } else {\n    FinalInvoice.value = getInvoice.value.filter((ticket: any) => {\n      return ticket.status && ticket.status.toLowerCase() === InvoiceTypeVal.value.toLowerCase();\n    });\n  }\n\n  if (searchValue.value) {\n    FinalInvoice.value = FinalInvoice.value.filter((invoice: any) =>\n      invoice.billFrom?.toLowerCase().includes(searchValue.value.toLowerCase())\n    );\n  }\n};\n\nwatch(searchValue, applySearchFilter);\n\nconst calculateTotalCost = (unitPrice: number | undefined, units: number | undefined): number => {\n  return (unitPrice ?? 0) * (units ?? 0);\n};\n\nconst totalInvoiceCount = computed(() => getInvoice.value.length);\nconst ShippedInvoiceCount = computed(\n  () => getInvoice.value.filter((ticket: any) => ticket.status === 'Shipped').length\n);\nconst DeliveredInvoiceCount = computed(\n  () => getInvoice.value.filter((ticket: any) => ticket.status === 'Delivered').length\n);\nconst PendingInvoiceCount = computed(\n  () => getInvoice.value.filter((ticket: any) => ticket.status === 'Pending').length\n);\n\nconst handleDeleteTicket = (ticketId: number) => {\n  ticketIdToDelete.value = ticketId;\n  showConfirmation.value = true;\n};\n// Function to confirm deletion\nconst confirmDelete = () => {\n  if (ticketIdToDelete.value !== null) {\n    store.deleteinvoice(ticketIdToDelete.value);\n    ticketIdToDelete.value = null;\n    showConfirmation.value = false;\n    setInvoiceType(InvoiceTypeVal.value);\n  }\n};\n</script>\n\n<template>\n  <v-card elevation=\"10\">\n    <v-card-item>\n      <div class=\"overflow-x-reposive\">\n        <v-row class=\"d-flex flex-nowrap\">\n          <v-col cols=\"10\" md=\"3\" sm=\"6\">\n            <div\n              :class=\"[\n                'pa-6 d-flex ga-3 align-center cursor-pointer rounded-xl',\n                { 'bg-bglight': InvoiceTypeVal === 'total' },\n              ]\"\n              @click=\"setInvoiceType('total')\"\n            >\n              <v-avatar size=\"56\" class=\"border border-md border-primary\">\n                <Icon icon=\"solar:tag-horizontal-broken\" height=\"25\" class=\"text-primary\" />\n              </v-avatar>\n              <div>\n                <h6 class=\"text-h6\">Total</h6>\n                <p class=\"text-14 lh-normal\" v-if=\"totalInvoiceCount == 0\">0 invoices</p>\n                <p class=\"text-14 lh-normal\" v-else>{{ totalInvoiceCount }} invoices</p>\n                <h5 class=\"text-14 lh-normal\">$46,218.04</h5>\n              </div>\n            </div>\n          </v-col>\n          <v-col cols=\"10\" md=\"3\" sm=\"6\">\n            <div\n              :class=\"[\n                'pa-6 d-flex ga-3 align-center cursor-pointer rounded-xl',\n                { 'bg-bglight': InvoiceTypeVal === 'Shipped' },\n              ]\"\n              @click=\"setInvoiceType('Shipped')\"\n            >\n              <v-avatar size=\"56\" class=\"border border-md border-success\">\n                <Icon icon=\"solar:shield-up-linear\" height=\"25\" class=\"text-success\" />\n              </v-avatar>\n              <div>\n                <h6 class=\"text-h6\">Shipped</h6>\n                <p class=\"text-14 lh-normal\" v-if=\"ShippedInvoiceCount == 0\">0 invoices</p>\n                <p class=\"text-14 lh-normal\" v-else>{{ ShippedInvoiceCount }} invoices</p>\n                <h5 class=\"text-14 lh-normal\">$23,110.23</h5>\n              </div>\n            </div>\n          </v-col>\n          <v-col cols=\"10\" md=\"3\" sm=\"6\">\n            <div\n              :class=\"[\n                'pa-6 d-flex ga-3 align-center cursor-pointer rounded-xl',\n                { 'bg-bglight': InvoiceTypeVal === 'Delivered' },\n              ]\"\n              @click=\"setInvoiceType('Delivered')\"\n            >\n              <v-avatar size=\"56\" class=\"border border-md border-info\">\n                <Icon icon=\"solar:map-point-wave-linear\" height=\"25\" class=\"text-info\" />\n              </v-avatar>\n              <div>\n                <h6 class=\"text-h6\">Delivered</h6>\n                <p class=\"text-14 lh-normal\" v-if=\"DeliveredInvoiceCount == 0\">0 invoices</p>\n                <p class=\"text-14 lh-normal\" v-else>{{ DeliveredInvoiceCount }} invoices</p>\n                <h5 class=\"text-14 lh-normal\">$13,825.05</h5>\n              </div>\n            </div>\n          </v-col>\n          <v-col cols=\"10\" md=\"3\" sm=\"6\">\n            <div\n              :class=\"[\n                'pa-6 d-flex ga-3 align-center cursor-pointer rounded-xl',\n                { 'bg-bglight': InvoiceTypeVal === 'Pending' },\n              ]\"\n              @click=\"setInvoiceType('Pending')\"\n            >\n              <v-avatar size=\"56\" class=\"border border-md border-warning\">\n                <Icon icon=\"solar:camera-rotate-broken\" height=\"25\" class=\"text-warning\" />\n              </v-avatar>\n              <div>\n                <h6 class=\"text-h6\">Pending</h6>\n                <p class=\"text-14 lh-normal\" v-if=\"PendingInvoiceCount == 0\">0 invoices</p>\n                <p class=\"text-14 lh-normal\" v-else>{{ PendingInvoiceCount }} invoices</p>\n                <h5 class=\"text-14 lh-normal\">$4,655.63</h5>\n              </div>\n            </div>\n          </v-col>\n        </v-row>\n      </div>\n\n      <div class=\"\">\n        <div class=\"d-sm-flex justify-space-between align-center my-7\">\n          <v-sheet width=\"255\" class=\"mb-lg-0 mb-4\">\n            <v-text-field\n              v-model=\"searchValue\"\n              label=\"Search Invoice\"\n              variant=\"outlined\"\n              hide-details\n              class=\"w-100\"\n              density=\"compact\"\n            >\n              <template v-slot:prepend-inner>\n                <Icon icon=\"solar:magnifer-linear\" height=\"18\" width=\"25\" />\n              </template>\n            </v-text-field>\n          </v-sheet>\n          <v-btn color=\"primary\" rounded=\"pill\" flat to=\"/apps/invoice/create\">New Invoice</v-btn>\n        </div>\n\n        <!-- Render filtered tickets -->\n        <v-table class=\"invoice-table\">\n          <template v-slot:default>\n            <thead>\n              <tr>\n                <th class=\"text-14\">\n                  <v-checkbox hide-details color=\"primary\"></v-checkbox>\n                </th>\n                <th class=\"text-14 text-no-wrap\">ID</th>\n                <th class=\"text-14 text-no-wrap\">BILL FROM</th>\n                <th class=\"text-14 text-no-wrap\">BILL TO</th>\n                <th class=\"text-14 text-no-wrap\">TOTAL COST</th>\n                <th class=\"text-14 text-no-wrap\">STATUS</th>\n                <th class=\"text-14 text-no-wrap text-center\">ACTION</th>\n              </tr>\n            </thead>\n            <tbody>\n              <tr v-for=\"invoice in FinalInvoice\" :key=\"invoice.id\">\n                <td>\n                  <v-checkbox color=\"primary\" hide-details></v-checkbox>\n                </td>\n                <td class=\"text-14 font-weight-semibold\">{{ invoice.id }}</td>\n                <td class=\"text-14 font-weight-semibold text-no-wrap\">\n                  {{ invoice.billFrom }}\n                </td>\n                <td class=\"text-14 text-no-wrap\">{{ invoice.billTo }}</td>\n                <td class=\"text-14 text-no-wrap\">{{ store.grandTotal(invoice) }}</td>\n                <td>\n                  <v-chip\n                    rounded=\"pill\"\n                    :color=\"\n                      invoice.status === 'Shipped'\n                        ? 'success'\n                        : invoice.status === 'Delivered'\n                          ? 'info'\n                          : invoice.status === 'Pending'\n                            ? 'warning'\n                            : 'primary'\n                    \"\n                    variant=\"flat\"\n                    size=\"small\"\n                    label\n                    >{{ invoice.status }}</v-chip\n                  >\n                </td>\n                <td>\n                  <div class=\"d-flex ga-3 align-center justify-center\">\n                    <RouterLink :to=\"`/apps/invoice/edit/${invoice.id}`\">\n                      <v-avatar color=\"lightsuccess\" size=\"32\">\n                        <Icon icon=\"solar:pen-linear\" class=\"text-success\" height=\"18\" />\n                      </v-avatar>\n                      <v-tooltip activator=\"parent\" location=\"bottom\">Edit Invoice</v-tooltip>\n                    </RouterLink>\n\n                    <RouterLink :to=\"`/apps/invoice/details/${invoice.id}`\">\n                      <v-avatar color=\"lightprimary\" size=\"32\">\n                        <Icon icon=\"solar:eye-linear\" class=\"text-primary\" height=\"18\" />\n                      </v-avatar>\n                      <v-tooltip activator=\"parent\" location=\"bottom\">View Invoice</v-tooltip>\n                    </RouterLink>\n\n                    <RouterLink\n                      to=\"\"\n                      @click.stop=\"handleDeleteTicket(invoice.id)\"\n                      class=\"cursor-pointer\"\n                    >\n                      <v-avatar color=\"lighterror\" size=\"32\">\n                        <Icon\n                          icon=\"solar:trash-bin-minimalistic-linear\"\n                          class=\"text-error\"\n                          height=\"18\"\n                        />\n                      </v-avatar>\n                      <v-tooltip activator=\"parent\" location=\"bottom\">Delete Invoice</v-tooltip>\n                    </RouterLink>\n                  </div>\n                </td>\n              </tr>\n            </tbody>\n          </template>\n        </v-table>\n      </div>\n    </v-card-item>\n  </v-card>\n\n  <!-- Confirmation Dialog -->\n  <v-dialog v-model=\"showConfirmation\" max-width=\"500px\">\n    <v-card>\n      <v-card-title class=\"pa-4 bg-primary\">Delete Invoice</v-card-title>\n      <v-card-text>\n        <h5 class=\"text-16\">Are you sure you want to delete this invoice?</h5>\n      </v-card-text>\n      <v-card-actions>\n        <v-btn color=\"primary\" class=\"px-4\" variant=\"flat\" rounded=\"pill\" @click=\"confirmDelete\"\n          >Yes, Delete</v-btn\n        >\n        <v-btn\n          color=\"error\"\n          variant=\"flat\"\n          rounded=\"pill\"\n          class=\"px-4\"\n          @click=\"showConfirmation = false\"\n          >Cancel</v-btn\n        >\n      </v-card-actions>\n    </v-card>\n  </v-dialog>\n</template>\n","<script setup lang=\"ts\">\nimport { ref } from 'vue';\n// common components\nimport BaseBreadcrumb from '@/components/shared/BaseBreadcrumb.vue';\nimport InvoiceList from '@/components/apps/invoice/List.vue';\n\nconst page = ref({ title: 'Invoice List' });\nconst breadcrumbs = ref([\n  {\n    text: 'Dashboard',\n    disabled: false,\n    href: '#',\n  },\n  {\n    text: 'Invoice List',\n    disabled: true,\n    href: '#',\n  },\n]);\n</script>\n\n<template>\n  <BaseBreadcrumb :title=\"page.title\" :breadcrumbs=\"breadcrumbs\"></BaseBreadcrumb>\n  <InvoiceList />\n</template>\n"],"version":3}