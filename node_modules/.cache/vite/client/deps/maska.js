import "./chunk-V4OQ3NZ2.js";

// node_modules/maska/dist/maska.esm.js
function e(e2, t2) {
  if (!(e2 instanceof t2)) throw new TypeError("Cannot call a class as a function");
}
function t(e2, t2) {
  for (var n2 = 0; n2 < t2.length; n2++) {
    var r2 = t2[n2];
    r2.enumerable = r2.enumerable || false, r2.configurable = true, "value" in r2 && (r2.writable = true), Object.defineProperty(e2, r2.key, r2);
  }
}
function n(e2, t2, n2) {
  return t2 in e2 ? Object.defineProperty(e2, t2, { value: n2, enumerable: true, configurable: true, writable: true }) : e2[t2] = n2, e2;
}
function r(e2, t2) {
  var n2 = Object.keys(e2);
  if (Object.getOwnPropertySymbols) {
    var r2 = Object.getOwnPropertySymbols(e2);
    t2 && (r2 = r2.filter((function(t3) {
      return Object.getOwnPropertyDescriptor(e2, t3).enumerable;
    }))), n2.push.apply(n2, r2);
  }
  return n2;
}
function a(e2) {
  for (var t2 = 1; t2 < arguments.length; t2++) {
    var a2 = null != arguments[t2] ? arguments[t2] : {};
    t2 % 2 ? r(Object(a2), true).forEach((function(t3) {
      n(e2, t3, a2[t3]);
    })) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e2, Object.getOwnPropertyDescriptors(a2)) : r(Object(a2)).forEach((function(t3) {
      Object.defineProperty(e2, t3, Object.getOwnPropertyDescriptor(a2, t3));
    }));
  }
  return e2;
}
var o = { "#": { pattern: /[0-9]/ }, X: { pattern: /[0-9a-zA-Z]/ }, S: { pattern: /[a-zA-Z]/ }, A: { pattern: /[a-zA-Z]/, uppercase: true }, a: { pattern: /[a-zA-Z]/, lowercase: true }, "!": { escape: true }, "*": { repeat: true } };
function s(e2, t2) {
  var n2 = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : o, r2 = !(arguments.length > 3 && void 0 !== arguments[3]) || arguments[3];
  return i(t2).length > 1 ? u(t2)(e2, t2, n2, r2) : p(e2, t2, n2, r2);
}
function i(e2) {
  try {
    return JSON.parse(e2);
  } catch (t2) {
    return [e2];
  }
}
function u(e2) {
  var t2 = i(e2).sort((function(e3, t3) {
    return e3.length - t3.length;
  }));
  return function(e3, r2, a2) {
    var o2 = !(arguments.length > 3 && void 0 !== arguments[3]) || arguments[3], s2 = t2.map((function(t3) {
      return p(e3, t3, a2, false);
    })), i2 = s2.pop();
    for (var u2 in t2) if (n2(i2, t2[u2], a2)) return p(e3, t2[u2], a2, o2);
    return "";
  };
  function n2(e3, t3, n3) {
    for (var r2 in n3) n3[r2].escape && (t3 = t3.replace(new RegExp(r2 + ".{1}", "g"), ""));
    return t3.split("").filter((function(e4) {
      return n3[e4] && n3[e4].pattern;
    })).length >= e3.length;
  }
}
function p(e2, t2, n2) {
  for (var r2 = !(arguments.length > 3 && void 0 !== arguments[3]) || arguments[3], a2 = 0, o2 = 0, s2 = "", i2 = ""; a2 < t2.length && o2 < e2.length; ) {
    var u2 = t2[a2], p2 = e2[o2], c2 = n2[u2];
    if (c2 && c2.pattern) c2.pattern.test(p2) && (s2 += l(p2, c2), a2++, r2 && t2[a2] && (n2[t2[a2]] ? n2[t2[a2]] && n2[t2[a2]].escape && (s2 += t2[a2 + 1], a2 += 2) : (s2 += t2[a2], a2++))), o2++;
    else if (c2 && c2.repeat) {
      var f2 = n2[t2[a2 - 1]];
      f2 && !f2.pattern.test(p2) ? a2++ : a2--;
    } else c2 && c2.escape && (u2 = t2[++a2]), r2 && (s2 += u2), p2 === u2 && o2++, a2++;
  }
  for (; r2 && a2 < t2.length; ) {
    var v2 = t2[a2];
    if (n2[v2]) {
      i2 = "";
      break;
    }
    i2 += v2, a2++;
  }
  return s2 + i2;
}
function l(e2, t2) {
  return t2.transform && (e2 = t2.transform(e2)), t2.uppercase ? e2.toLocaleUpperCase() : t2.lowercase ? e2.toLocaleLowerCase() : e2;
}
function c(e2) {
  return e2 instanceof HTMLInputElement ? e2 : e2.querySelector("input") || e2;
}
function f(e2) {
  return "[object String]" === Object.prototype.toString.call(e2);
}
var v = (function() {
  function n2(t2) {
    var r3 = this, s2 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
    if (e(this, n2), !t2) throw new Error("Maska: no element for mask");
    if (null != s2.preprocessor && "function" != typeof s2.preprocessor) throw new Error("Maska: preprocessor must be a function");
    if (s2.tokens) for (var i3 in s2.tokens) s2.tokens[i3] = a({}, s2.tokens[i3]), s2.tokens[i3].pattern && f(s2.tokens[i3].pattern) && (s2.tokens[i3].pattern = new RegExp(s2.tokens[i3].pattern));
    this._opts = { mask: s2.mask, tokens: a(a({}, o), s2.tokens), preprocessor: s2.preprocessor }, this._el = f(t2) ? document.querySelectorAll(t2) : t2.length ? t2 : [t2], this.inputEvent = function(e2) {
      return r3.updateValue(e2.target, e2);
    }, this.init();
  }
  var r2, i2, u2;
  return r2 = n2, (i2 = [{ key: "init", value: function() {
    for (var e2 = this, t2 = function(t3) {
      var n4 = c(e2._el[t3]);
      !e2._opts.mask || n4.dataset.mask && n4.dataset.mask === e2._opts.mask || (n4.dataset.mask = e2._opts.mask), setTimeout((function() {
        return e2.updateValue(n4);
      }), 0), n4.dataset.maskInited || (n4.dataset.maskInited = true, n4.addEventListener("input", e2.inputEvent), n4.addEventListener("beforeinput", e2.beforeInput));
    }, n3 = 0; n3 < this._el.length; n3++) t2(n3);
  } }, { key: "destroy", value: function() {
    for (var e2 = 0; e2 < this._el.length; e2++) {
      var t2 = c(this._el[e2]);
      t2.removeEventListener("input", this.inputEvent), t2.removeEventListener("beforeinput", this.beforeInput), delete t2.dataset.mask, delete t2.dataset.maskInited;
    }
  } }, { key: "updateValue", value: function(e2, t2) {
    if (e2 && e2.type) {
      var n3 = e2.type.match(/^number$/i) && e2.validity.badInput;
      if (!e2.value && !n3 || !e2.dataset.mask) return e2.dataset.maskRawValue = "", void this.dispatch("maska", e2, t2);
      var r3 = e2.selectionEnd, a2 = e2.value, o2 = a2[r3 - 1];
      e2.dataset.maskRawValue = s(e2.value, e2.dataset.mask, this._opts.tokens, false);
      var i3 = e2.value;
      this._opts.preprocessor && (i3 = this._opts.preprocessor(i3)), e2.value = s(i3, e2.dataset.mask, this._opts.tokens), t2 && "insertText" === t2.inputType && r3 === a2.length && (r3 = e2.value.length), (function(e3, t3, n4) {
        for (; t3 && t3 < e3.value.length && e3.value.charAt(t3 - 1) !== n4; ) t3++;
        (e3.type ? e3.type.match(/^(text|search|password|tel|url)$/i) : !e3.type) && e3 === document.activeElement && (e3.setSelectionRange(t3, t3), setTimeout((function() {
          e3.setSelectionRange(t3, t3);
        }), 0));
      })(e2, r3, o2), this.dispatch("maska", e2, t2), e2.value !== a2 && this.dispatch("input", e2, t2);
    }
  } }, { key: "beforeInput", value: function(e2) {
    e2 && e2.target && e2.target.type && e2.target.type.match(/^number$/i) && e2.data && isNaN(e2.target.value + e2.data) && e2.preventDefault();
  } }, { key: "dispatch", value: function(e2, t2, n3) {
    t2.dispatchEvent((function(e3) {
      var t3 = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : null, n4 = document.createEvent("Event");
      return n4.initEvent(e3, true, true), t3 && (n4.inputType = t3), n4;
    })(e2, n3 && n3.inputType || null));
  } }]) && t(r2.prototype, i2), u2 && t(r2, u2), n2;
})();
var d;
var h = (d = /* @__PURE__ */ new WeakMap(), function(e2, t2) {
  t2.value && (d.has(e2) && !(function(e3) {
    return !(f(e3.value) && e3.value === e3.oldValue || Array.isArray(e3.value) && JSON.stringify(e3.value) === JSON.stringify(e3.oldValue) || e3.value && e3.value.mask && e3.oldValue && e3.oldValue.mask && e3.value.mask === e3.oldValue.mask);
  })(t2) || d.set(e2, new v(e2, (function(e3) {
    var t3 = {};
    return e3.mask ? (t3.mask = Array.isArray(e3.mask) ? JSON.stringify(e3.mask) : e3.mask, t3.tokens = e3.tokens ? a({}, e3.tokens) : {}, t3.preprocessor = e3.preprocessor) : t3.mask = Array.isArray(e3) ? JSON.stringify(e3) : e3, t3;
  })(t2.value))));
});
function k(e2) {
  e2.directive("maska", h);
}
function m(e2, t2) {
  return new v(e2, t2);
}
"undefined" != typeof window && window.Vue && window.Vue.use && window.Vue.use(k);
var maska_esm_default = k;
export {
  m as create,
  maska_esm_default as default,
  k as install,
  s as mask,
  h as maska,
  o as tokens
};
/*! Bundled license information:

maska/dist/maska.esm.js:
  (*!
   * maska v1.5.0
   * (c) 2019-2021 Alexander Shabunevich
   * Released under the MIT License.
   *)
*/
//# sourceMappingURL=maska.js.map
