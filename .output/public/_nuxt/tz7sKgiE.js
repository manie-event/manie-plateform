import{_ as A}from"./OkiM4xzM.js";import{d as y,r as l,g as T,h as L,u as g,a as f,T as E,w as s,b as t,e as a,i as j,s as z,j as I,k as D,l as v,o as G,c as b,F as Y,f as d,m as H,t as J,n as K}from"./CHEumwGj.js";import{u as O}from"./CjAgQoew.js";import{F as P}from"./DRO4nZRS.js";import{u as Q}from"./DBXByO5m.js";import{_ as W}from"./Bepkssow.js";import{_ as X}from"./B1mWrt02.js";import"./BqfPwIYT.js";const Z=y({__name:"successToaster",setup(w){const{sucessToaster:p}=O();return(o,u)=>{const c=l("v-alert");return g(p)?(f(),T(E,{key:0,name:"fade",tag:"div",class:"alerts-wrapper"},{default:s(()=>[t(c,{class:"success-card",type:"success",text:g(p),dismissible:""},{default:s(()=>u[0]||(u[0]=[a("div",{class:"progress-bar"},null,-1)])),_:1,__:[0]},8,["text"])]),_:1})):L("",!0)}}}),ee={class:"d-flex flex-wrap align-center my-3 ml-n2"},te={class:"ml-sm-auto"},se={key:0,class:"mt-2"},oe=y({__name:"LoginForm",setup(w){const{sendLogin:p}=Q(),o=j(),{setUserAccepted:u}=o,{isStoringUserAccepeted:c}=z(o);I();const _=D(),m=c,x=v(!1),i=v({email:"",password:""}),F=v([n=>!!n||"Le mot de passe est obligatoire",n=>n&&n.length>=10||"Le mot de passe doit faire 10 caractères minimum"]),C=v([n=>!!n||"L'e-mail est obligatoire",n=>/.+@.+\..+/.test(n)||"L'e-mail doit être valide"]),M=async()=>{await p(i.value)},S=()=>{u(m.value)};return G(()=>{_.query.email&&typeof _.query.email=="string"&&(i.value.email=_.query.email)}),(n,e)=>{const V=l("v-label"),h=l("VTextField"),U=l("v-checkbox"),$=A,q=l("v-btn"),N=l("v-alert"),R=Z;return f(),b(Y,null,[e[9]||(e[9]=a("div",{class:"d-flex align-center text-center mb-6"},[a("div",{class:"text-h6 w-100 px-5 font-weight-regular auth-divider position-relative"},[a("span",{class:"bg-surface px-5 py-3 position-relative text-subtitle-1 text-grey100"},"Identifiez-vous avec")])],-1)),t(g(P),{onSubmit:M,class:"mt-5"},{default:s(({errors:k,isSubmitting:B})=>[t(V,{class:"text-subtitle-1 font-weight-semibold pb-2 text-grey200"},{default:s(()=>e[4]||(e[4]=[d("Email",-1)])),_:1,__:[4]}),t(h,{modelValue:i.value.email,"onUpdate:modelValue":e[0]||(e[0]=r=>i.value.email=r),rules:C.value,class:"mb-8",placeholder:"info@manie.com",required:"","hide-details":"auto"},null,8,["modelValue","rules"]),t(V,{class:"text-subtitle-1 font-weight-semibold pb-2 text-grey200"},{default:s(()=>e[5]||(e[5]=[d("Mot de passe",-1)])),_:1,__:[5]}),t(h,{modelValue:i.value.password,"onUpdate:modelValue":e[1]||(e[1]=r=>i.value.password=r),rules:F.value,required:"","hide-details":"auto",placeholder:"**********",type:"password",class:"pwdInput"},null,8,["modelValue","rules"]),a("div",ee,[t(U,{modelValue:g(m),"onUpdate:modelValue":e[2]||(e[2]=r=>H(m)?m.value=r:null),rules:[r=>!!r||"You must agree to continue!"],required:"","hide-details":"",color:"primary",onChange:e[3]||(e[3]=r=>S())},{label:s(()=>e[6]||(e[6]=[d("Se souvenir de mes infos",-1)])),_:1},8,["modelValue","rules"]),a("div",te,[t($,{to:"/auth/forgot-password",class:"text-primary text-decoration-none text-body-1 opacity-1 font-weight-medium"},{default:s(()=>e[7]||(e[7]=[d("Mot de passe oublié ?",-1)])),_:1,__:[7]})])]),t(q,{size:"large",rounded:"pill",loading:B,color:"primary",disabled:x.value,block:"",type:"submit",flat:""},{default:s(()=>e[8]||(e[8]=[d("M'identifier",-1)])),_:2,__:[8]},1032,["loading","disabled"]),k.apiError?(f(),b("div",se,[t(N,{color:"error"},{default:s(()=>[d(J(k.apiError),1)]),_:2},1024)])):L("",!0)]),_:1}),(f(),T(K,{to:"body"},[t(W),t(R)]))],64)}}}),ae={class:"login-app-wrapper"},le={class:"auth-login position-relative d-flex align-center justify-content-center px-lg-16 px-sm-8 px-3 rounded-xl"},ne={class:"auth-login-wrapper position-relative rounded-xl mx-lg-16 mx-4 mx-auto w-100"},ie={class:"mt-xl-0 mt-5 mw-100"},re={class:"text-subtitle-1 text-grey100 d-flex align-center mt-6 font-weight-medium"},ge=y({__name:"Login",setup(w){return(p,o)=>{const u=l("v-col"),c=oe,_=l("v-btn"),m=l("v-row"),x=l("v-card-item"),i=l("v-card");return f(),b("div",ae,[a("div",le,[a("div",ne,[t(i,{elevation:"0",class:"overflow-hidden px-sm-3"},{default:s(()=>[t(x,{class:"px-sm-8 px-3"},{default:s(()=>[t(m,{class:"justify-md-space-around align-center py-md-8"},{default:s(()=>[t(u,{cols:"12",lg:"5",md:"6",class:"d-md-flex d-none"},{default:s(()=>o[0]||(o[0]=[a("img",{src:X,class:"w-100",alt:"login-background"},null,-1)])),_:1,__:[0]}),t(u,{cols:"12",lg:"5",md:"6"},{default:s(()=>[a("div",ie,[o[3]||(o[3]=a("h2",{class:"text-h2 font-weight-bold mb-2"},"Bienvenue sur Manie !",-1)),o[4]||(o[4]=a("div",{class:"text-h6 mb-6 font-weight-medium mt-3 mb-8"}," Votre assistant à la création et gestion d'évènements ",-1)),t(c),a("h6",re,[o[2]||(o[2]=d(" Nouveau sur Manie ? ",-1)),t(_,{class:"pl-0 text-primary text-body-1 opacity-1 pl-2 font-weight-medium",height:"auto",to:"/auth/register",variant:"plain"},{default:s(()=>o[1]||(o[1]=[d("Créez un compte",-1)])),_:1,__:[1]})])])]),_:1})]),_:1})]),_:1})]),_:1})])])])}}});export{ge as default};
