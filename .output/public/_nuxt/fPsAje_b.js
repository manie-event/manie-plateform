import{i as p,b7 as a,at as f}from"./RV8HHTPq.js";import{u as d}from"./DCvGJmM2.js";import{u as g}from"./nI9jmXyo.js";const P=()=>{const{addError:o,addSuccess:l}=d(),s=g("token"),u=p(),{setProfessionalUser:i}=u,t=f(),c=async e=>{try{const{data:r}=await a.post(`${t.public.apiUrl}/professional/create`,e,{headers:{Authorization:`Bearer ${s.value}`,"Content-Type":"application/json"}});if(r)return l("Modification du profil professionnel réussie !"),n(),r}catch(r){o(r.response.data)}},n=async()=>{try{const{data:e}=await a.get(`${t.public.apiUrl}/professional`,{headers:{Authorization:`Bearer ${s.value}`,"Content-Type":"application/json"}});if(e)return i(e),console.log("User profile details:",e),e}catch(e){console.log("Error fetching user profile:",e),o({message:"Une erreur est survenue lors de la récupération du profil."})}};return{updateProfessionalProfile:c,getUserProfile:n,getUserProfileDetails:async()=>{const e=localStorage.getItem("professional-uuid");try{const{data:r}=await a.get(`${t.public.apiUrl}/professional/${e}`,{headers:{Authorization:`Bearer ${s.value}`,"Content-Type":"application/json"}});if(r)return i(r),r}catch{o({message:"Une erreur est survenue lors de la récupération du profil."})}}}};export{P as u};
