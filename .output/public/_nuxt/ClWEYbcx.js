import{_ as W}from"./DRg6o9Ve.js";/* empty css        */import{d as O,k as g,o as X,D as k,M as Z,r as a,c as i,b as r,F as $,e,w as o,f as l,v as I,m as c,t as v,g as p,q as tt,I as et}from"./BGVbXBYx.js";import{u as lt}from"./CWJ6GFnV.js";import{I as m}from"./CL17b4tt.js";const ot={class:"overflow-x-reposive"},st={key:0,class:"text-14 lh-normal"},at={key:1,class:"text-14 lh-normal"},nt={key:0,class:"text-14 lh-normal"},it={key:1,class:"text-14 lh-normal"},rt={key:0,class:"text-14 lh-normal"},dt={key:1,class:"text-14 lh-normal"},ut={key:0,class:"text-14 lh-normal"},ct={key:1,class:"text-14 lh-normal"},vt={class:""},pt={class:"d-sm-flex justify-space-between align-center my-7"},mt={class:"text-14"},_t={class:"text-14 font-weight-semibold"},ft={class:"text-14 font-weight-semibold text-no-wrap"},xt={class:"text-14 text-no-wrap"},gt={class:"text-14 text-no-wrap"},ht={class:"d-flex ga-3 align-center justify-center"},bt=O({__name:"List",setup(A){const h=lt(),_=g(!1),w=g(null);X(async()=>{await h.fetchinvoice(),b(d.value)});const u=k(()=>h.invoice);let f=g([...u.value]);const y=g(""),d=g("total"),b=n=>{d.value=n,console.log(`InvoiceTypeVal changed to: ${n}`),d.value==="total"?f.value=[...u.value]:f.value=u.value.filter(t=>(console.log("Filtering ticket:",t),t.status&&t.status.toLowerCase()===d.value.toLowerCase())),V()},V=()=>{d.value==="total"?f.value=[...u.value]:f.value=u.value.filter(n=>n.status&&n.status.toLowerCase()===d.value.toLowerCase()),y.value&&(f.value=f.value.filter(n=>{var t;return(t=n.billFrom)==null?void 0:t.toLowerCase().includes(y.value.toLowerCase())}))};Z(y,V);const S=k(()=>u.value.length),z=k(()=>u.value.filter(n=>n.status==="Shipped").length),F=k(()=>u.value.filter(n=>n.status==="Delivered").length),P=k(()=>u.value.filter(n=>n.status==="Pending").length),M=n=>{w.value=n,_.value=!0},R=()=>{w.value!==null&&(h.deleteinvoice(w.value),w.value=null,_.value=!1,b(d.value))};return(n,t)=>{const x=a("v-avatar"),C=a("v-col"),U=a("v-row"),j=a("v-text-field"),E=a("v-sheet"),L=a("v-btn"),B=a("v-checkbox"),q=a("v-chip"),D=a("v-tooltip"),T=a("RouterLink"),Y=a("v-table"),G=a("v-card-item"),N=a("v-card"),H=a("v-card-title"),J=a("v-card-text"),K=a("v-card-actions"),Q=a("v-dialog");return r(),i($,null,[e(N,{elevation:"10"},{default:o(()=>[e(G,null,{default:o(()=>[l("div",ot,[e(U,{class:"d-flex flex-nowrap"},{default:o(()=>[e(C,{cols:"10",md:"3",sm:"6"},{default:o(()=>[l("div",{class:I(["pa-6 d-flex ga-3 align-center cursor-pointer rounded-xl",{"bg-bglight":d.value==="total"}]),onClick:t[0]||(t[0]=s=>b("total"))},[e(x,{size:"56",class:"border border-md border-primary"},{default:o(()=>[e(c(m),{icon:"solar:tag-horizontal-broken",height:"25",class:"text-primary"})]),_:1}),l("div",null,[t[7]||(t[7]=l("h6",{class:"text-h6"},"Total",-1)),S.value==0?(r(),i("p",st,"0 invoices")):(r(),i("p",at,v(S.value)+" invoices",1)),t[8]||(t[8]=l("h5",{class:"text-14 lh-normal"},"$46,218.04",-1))])],2)]),_:1}),e(C,{cols:"10",md:"3",sm:"6"},{default:o(()=>[l("div",{class:I(["pa-6 d-flex ga-3 align-center cursor-pointer rounded-xl",{"bg-bglight":d.value==="Shipped"}]),onClick:t[1]||(t[1]=s=>b("Shipped"))},[e(x,{size:"56",class:"border border-md border-success"},{default:o(()=>[e(c(m),{icon:"solar:shield-up-linear",height:"25",class:"text-success"})]),_:1}),l("div",null,[t[9]||(t[9]=l("h6",{class:"text-h6"},"Shipped",-1)),z.value==0?(r(),i("p",nt,"0 invoices")):(r(),i("p",it,v(z.value)+" invoices",1)),t[10]||(t[10]=l("h5",{class:"text-14 lh-normal"},"$23,110.23",-1))])],2)]),_:1}),e(C,{cols:"10",md:"3",sm:"6"},{default:o(()=>[l("div",{class:I(["pa-6 d-flex ga-3 align-center cursor-pointer rounded-xl",{"bg-bglight":d.value==="Delivered"}]),onClick:t[2]||(t[2]=s=>b("Delivered"))},[e(x,{size:"56",class:"border border-md border-info"},{default:o(()=>[e(c(m),{icon:"solar:map-point-wave-linear",height:"25",class:"text-info"})]),_:1}),l("div",null,[t[11]||(t[11]=l("h6",{class:"text-h6"},"Delivered",-1)),F.value==0?(r(),i("p",rt,"0 invoices")):(r(),i("p",dt,v(F.value)+" invoices",1)),t[12]||(t[12]=l("h5",{class:"text-14 lh-normal"},"$13,825.05",-1))])],2)]),_:1}),e(C,{cols:"10",md:"3",sm:"6"},{default:o(()=>[l("div",{class:I(["pa-6 d-flex ga-3 align-center cursor-pointer rounded-xl",{"bg-bglight":d.value==="Pending"}]),onClick:t[3]||(t[3]=s=>b("Pending"))},[e(x,{size:"56",class:"border border-md border-warning"},{default:o(()=>[e(c(m),{icon:"solar:camera-rotate-broken",height:"25",class:"text-warning"})]),_:1}),l("div",null,[t[13]||(t[13]=l("h6",{class:"text-h6"},"Pending",-1)),P.value==0?(r(),i("p",ut,"0 invoices")):(r(),i("p",ct,v(P.value)+" invoices",1)),t[14]||(t[14]=l("h5",{class:"text-14 lh-normal"},"$4,655.63",-1))])],2)]),_:1})]),_:1})]),l("div",vt,[l("div",pt,[e(E,{width:"255",class:"mb-lg-0 mb-4"},{default:o(()=>[e(j,{modelValue:y.value,"onUpdate:modelValue":t[4]||(t[4]=s=>y.value=s),label:"Search Invoice",variant:"outlined","hide-details":"",class:"w-100",density:"compact"},{"prepend-inner":o(()=>[e(c(m),{icon:"solar:magnifer-linear",height:"18",width:"25"})]),_:1},8,["modelValue"])]),_:1}),e(L,{color:"primary",rounded:"pill",flat:"",to:"/apps/invoice/create"},{default:o(()=>t[15]||(t[15]=[p("New Invoice",-1)])),_:1,__:[15]})]),e(Y,{class:"invoice-table"},{default:o(()=>[l("thead",null,[l("tr",null,[l("th",mt,[e(B,{"hide-details":"",color:"primary"})]),t[16]||(t[16]=l("th",{class:"text-14 text-no-wrap"},"ID",-1)),t[17]||(t[17]=l("th",{class:"text-14 text-no-wrap"},"BILL FROM",-1)),t[18]||(t[18]=l("th",{class:"text-14 text-no-wrap"},"BILL TO",-1)),t[19]||(t[19]=l("th",{class:"text-14 text-no-wrap"},"TOTAL COST",-1)),t[20]||(t[20]=l("th",{class:"text-14 text-no-wrap"},"STATUS",-1)),t[21]||(t[21]=l("th",{class:"text-14 text-no-wrap text-center"},"ACTION",-1))])]),l("tbody",null,[(r(!0),i($,null,tt(c(f),s=>(r(),i("tr",{key:s.id},[l("td",null,[e(B,{color:"primary","hide-details":""})]),l("td",_t,v(s.id),1),l("td",ft,v(s.billFrom),1),l("td",xt,v(s.billTo),1),l("td",gt,v(c(h).grandTotal(s)),1),l("td",null,[e(q,{rounded:"pill",color:s.status==="Shipped"?"success":s.status==="Delivered"?"info":s.status==="Pending"?"warning":"primary",variant:"flat",size:"small",label:""},{default:o(()=>[p(v(s.status),1)]),_:2},1032,["color"])]),l("td",null,[l("div",ht,[e(T,{to:`/apps/invoice/edit/${s.id}`},{default:o(()=>[e(x,{color:"lightsuccess",size:"32"},{default:o(()=>[e(c(m),{icon:"solar:pen-linear",class:"text-success",height:"18"})]),_:1}),e(D,{activator:"parent",location:"bottom"},{default:o(()=>t[22]||(t[22]=[p("Edit Invoice",-1)])),_:1,__:[22]})]),_:2},1032,["to"]),e(T,{to:`/apps/invoice/details/${s.id}`},{default:o(()=>[e(x,{color:"lightprimary",size:"32"},{default:o(()=>[e(c(m),{icon:"solar:eye-linear",class:"text-primary",height:"18"})]),_:1}),e(D,{activator:"parent",location:"bottom"},{default:o(()=>t[23]||(t[23]=[p("View Invoice",-1)])),_:1,__:[23]})]),_:2},1032,["to"]),e(T,{to:"",onClick:et(wt=>M(s.id),["stop"]),class:"cursor-pointer"},{default:o(()=>[e(x,{color:"lighterror",size:"32"},{default:o(()=>[e(c(m),{icon:"solar:trash-bin-minimalistic-linear",class:"text-error",height:"18"})]),_:1}),e(D,{activator:"parent",location:"bottom"},{default:o(()=>t[24]||(t[24]=[p("Delete Invoice",-1)])),_:1,__:[24]})]),_:2},1032,["onClick"])])])]))),128))])]),_:1})])]),_:1})]),_:1}),e(Q,{modelValue:_.value,"onUpdate:modelValue":t[6]||(t[6]=s=>_.value=s),"max-width":"500px"},{default:o(()=>[e(N,null,{default:o(()=>[e(H,{class:"pa-4 bg-primary"},{default:o(()=>t[25]||(t[25]=[p("Delete Invoice",-1)])),_:1,__:[25]}),e(J,null,{default:o(()=>t[26]||(t[26]=[l("h5",{class:"text-16"},"Are you sure you want to delete this invoice?",-1)])),_:1,__:[26]}),e(K,null,{default:o(()=>[e(L,{color:"primary",class:"px-4",variant:"flat",rounded:"pill",onClick:R},{default:o(()=>t[27]||(t[27]=[p("Yes, Delete",-1)])),_:1,__:[27]}),e(L,{color:"error",variant:"flat",rounded:"pill",class:"px-4",onClick:t[5]||(t[5]=s=>_.value=!1)},{default:o(()=>t[28]||(t[28]=[p("Cancel",-1)])),_:1,__:[28]})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64)}}}),Dt=O({__name:"index",setup(A){const h=g({title:"Invoice List"}),_=g([{text:"Dashboard",disabled:!1,href:"#"},{text:"Invoice List",disabled:!0,href:"#"}]);return(w,u)=>(r(),i($,null,[e(W,{title:h.value.title,breadcrumbs:_.value},null,8,["title","breadcrumbs"]),e(bt)],64))}});export{Dt as default};
