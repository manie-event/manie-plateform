import{d as k,j as C,r as u,l as P,b as r,w as n,f as s,e as i,m,c as d,n as p,B as l,t as c,I as S}from"./DRerZXE8.js";import{u as V}from"./c2vrdqAN.js";import{u as q,a as f}from"./1aKaUokA.js";import{c as z,a as w}from"./BY1ZYcaV.js";import"./C9fps2xW.js";import"./-XPu_Rvd.js";import"./DaO5vHFs.js";const B={key:0,class:"text-red-500 text-sm"},L={key:0,class:"text-red-500 text-sm"},Z=k({__name:"index",setup($){const b=C().query.token,{registerNewPassword:x}=V(),h=z({password:w().min(8,"Le mot de passe doit contenir au moins 8 caractères").matches(/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]/,"Le mot de passe doit contenir au moins une majuscule, une minuscule, un chiffre et un caractère spécial").required("Le mot de passe est requis"),confirmPassword:w().test("passwords-match","Les mots de passe ne correspondent pas",function(o){return this.parent.password===o}).required("La confirmation du mot de passe est requise")}),{handleSubmit:_}=q({validationSchema:h,initialValues:{token:b,password:"",confirmPassword:""},validateOnMount:!1}),g=_(async o=>{await x(o)});return(o,e)=>{const v=u("ErrorMessage"),y=u("Form");return r(),P(y,{ref:"form",onSubmit:e[0]||(e[0]=S(a=>m(g)(),["prevent"])),action:"/dashboards/analytical",class:"mt-sm-13 mt-8"},{default:n(()=>[e[1]||(e[1]=s("label",{class:"text-subtitle-1 font-weight-medium pb-2 text-lightText"},"Votre nouveau mot de passe",-1)),i(m(f),{name:"password"},{default:n(({field:a,errors:t})=>[s("input",l(a,{type:"password",class:"form-input w-full px-3 py-2 border rounded",placeholder:"Votre nouveau mot de passe"}),null,16),t.length?(r(),d("span",B,c(t[0]),1)):p("",!0)]),_:1}),e[2]||(e[2]=s("label",{class:"text-subtitle-1 font-weight-medium pb-2 text-lightText"},"Confirmez votre nouveau mot de passe",-1)),i(m(f),{name:"confirmPassword"},{default:n(({field:a,errors:t})=>[s("input",l(a,{type:"password",class:"form-input w-full px-3 py-2 border rounded",placeholder:"Confirmez votre nouveau mot de passe"}),null,16),t.length?(r(),d("span",L,c(t[0]),1)):p("",!0)]),_:1}),i(v,{name:"confirmPassword"}),e[3]||(e[3]=s("button",{type:"submit",size:"large",color:"primary",block:"",rounded:"pill"}," Réinitialiser mon mot de passe ",-1))]),_:1,__:[1,2,3]},512)}}});export{Z as default};
