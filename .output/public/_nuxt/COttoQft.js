import{d as k,j as C,r as u,l as L,b as r,w as n,f as s,e as i,m,c as d,n as p,L as l,t as c,bE as P}from"./Y2cM3ybq.js";import{u as S}from"./BgNK3OKZ.js";import{u as V,a as f}from"./D9n7K6bm.js";import{c as q,a as w}from"./B5AEgETX.js";import"./BmmcoTAk.js";import"./yA45zEN9.js";import"./D3kLc0Nx.js";const z={key:0,class:"text-red-500 text-sm"},$={key:0,class:"text-red-500 text-sm"},Z=k({__name:"index",setup(A){const b=C().query.token,{registerNewPassword:x}=S(),h=q({password:w().min(8,"Le mot de passe doit contenir au moins 8 caractères").matches(/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]/,"Le mot de passe doit contenir au moins une majuscule, une minuscule, un chiffre et un caractère spécial").required("Le mot de passe est requis"),confirmPassword:w().test("passwords-match","Les mots de passe ne correspondent pas",function(o){return this.parent.password===o}).required("La confirmation du mot de passe est requise")}),{handleSubmit:_}=V({validationSchema:h,initialValues:{token:b,password:"",confirmPassword:""},validateOnMount:!1}),g=_(async o=>{await x(o)});return(o,e)=>{const v=u("ErrorMessage"),y=u("Form");return r(),L(y,{ref:"form",onSubmit:e[0]||(e[0]=P(a=>m(g)(),["prevent"])),action:"/dashboards/analytical",class:"mt-sm-13 mt-8"},{default:n(()=>[e[1]||(e[1]=s("label",{class:"text-subtitle-1 font-weight-medium pb-2 text-lightText"},"Votre nouveau mot de passe",-1)),i(m(f),{name:"password"},{default:n(({field:a,errors:t})=>[s("input",l(a,{type:"password",class:"form-input w-full px-3 py-2 border rounded",placeholder:"Votre nouveau mot de passe"}),null,16),t.length?(r(),d("span",z,c(t[0]),1)):p("",!0)]),_:1}),e[2]||(e[2]=s("label",{class:"text-subtitle-1 font-weight-medium pb-2 text-lightText"},"Confirmez votre nouveau mot de passe",-1)),i(m(f),{name:"confirmPassword"},{default:n(({field:a,errors:t})=>[s("input",l(a,{type:"password",class:"form-input w-full px-3 py-2 border rounded",placeholder:"Confirmez votre nouveau mot de passe"}),null,16),t.length?(r(),d("span",$,c(t[0]),1)):p("",!0)]),_:1}),i(v,{name:"confirmPassword"}),e[3]||(e[3]=s("button",{type:"submit",size:"large",color:"primary",block:"",rounded:"pill"}," Réinitialiser mon mot de passe ",-1))]),_:1,__:[1,2,3]},512)}}});export{Z as default};
