import{_ as Q}from"./By76X1cq.js";import{d as O,l as g,j as W,k,Z as X,r as a,c as i,o as r,F as $,b as e,w as o,e as l,a6 as I,u as c,t as v,f as p,g as tt,z as et}from"./aI3ctD-H.js";import{u as lt}from"./CAopIrZS.js";import{I as m}from"./qB2XL4aO.js";const ot={class:"overflow-x-reposive"},st={key:0,class:"text-14 lh-normal"},at={key:1,class:"text-14 lh-normal"},nt={key:0,class:"text-14 lh-normal"},it={key:1,class:"text-14 lh-normal"},rt={key:0,class:"text-14 lh-normal"},dt={key:1,class:"text-14 lh-normal"},ut={key:0,class:"text-14 lh-normal"},ct={key:1,class:"text-14 lh-normal"},vt={class:""},pt={class:"d-sm-flex justify-space-between align-center my-7"},mt={class:"text-14"},ft={class:"text-14 font-weight-semibold"},_t={class:"text-14 font-weight-semibold text-no-wrap"},xt={class:"text-14 text-no-wrap"},gt={class:"text-14 text-no-wrap"},ht={class:"d-flex ga-3 align-center justify-center"},bt=O({__name:"List",setup(A){const h=lt(),f=g(!1),w=g(null);W(async()=>{await h.fetchinvoice(),b(u.value)});const d=k(()=>h.invoice);console.log("list",d);let _=g([...d.value]);const y=g(""),u=g("total"),b=n=>{u.value=n,console.log(`InvoiceTypeVal changed to: ${n}`),u.value==="total"?_.value=[...d.value]:_.value=d.value.filter(t=>(console.log("Filtering ticket:",t),t.status&&t.status.toLowerCase()===u.value.toLowerCase())),V()},V=()=>{u.value==="total"?_.value=[...d.value]:_.value=d.value.filter(n=>n.status&&n.status.toLowerCase()===u.value.toLowerCase()),y.value&&(_.value=_.value.filter(n=>{var t;return(t=n.billFrom)==null?void 0:t.toLowerCase().includes(y.value.toLowerCase())}))};X(y,V);const S=k(()=>d.value.length),z=k(()=>d.value.filter(n=>n.status==="Shipped").length),F=k(()=>d.value.filter(n=>n.status==="Delivered").length),P=k(()=>d.value.filter(n=>n.status==="Pending").length),j=n=>{w.value=n,f.value=!0},M=()=>{w.value!==null&&(h.deleteinvoice(w.value),w.value=null,f.value=!1,b(u.value))};return(n,t)=>{const x=a("v-avatar"),C=a("v-col"),R=a("v-row"),U=a("v-text-field"),E=a("v-sheet"),L=a("v-btn"),B=a("v-checkbox"),Y=a("v-chip"),T=a("v-tooltip"),D=a("RouterLink"),Z=a("v-table"),q=a("v-card-item"),N=a("v-card"),G=a("v-card-title"),H=a("v-card-text"),J=a("v-card-actions"),K=a("v-dialog");return r(),i($,null,[e(N,{elevation:"10"},{default:o(()=>[e(q,null,{default:o(()=>[l("div",ot,[e(R,{class:"d-flex flex-nowrap"},{default:o(()=>[e(C,{cols:"10",md:"3",sm:"6"},{default:o(()=>[l("div",{class:I(["pa-6 d-flex ga-3 align-center cursor-pointer rounded-xl",{"bg-bglight":u.value==="total"}]),onClick:t[0]||(t[0]=s=>b("total"))},[e(x,{size:"56",class:"border border-md border-primary"},{default:o(()=>[e(c(m),{icon:"solar:tag-horizontal-broken",height:"25",class:"text-primary"})]),_:1}),l("div",null,[t[7]||(t[7]=l("h6",{class:"text-h6"},"Total",-1)),S.value==0?(r(),i("p",st,"0 invoices")):(r(),i("p",at,v(S.value)+" invoices",1)),t[8]||(t[8]=l("h5",{class:"text-14 lh-normal"},"$46,218.04",-1))])],2)]),_:1}),e(C,{cols:"10",md:"3",sm:"6"},{default:o(()=>[l("div",{class:I(["pa-6 d-flex ga-3 align-center cursor-pointer rounded-xl",{"bg-bglight":u.value==="Shipped"}]),onClick:t[1]||(t[1]=s=>b("Shipped"))},[e(x,{size:"56",class:"border border-md border-success"},{default:o(()=>[e(c(m),{icon:"solar:shield-up-linear",height:"25",class:"text-success"})]),_:1}),l("div",null,[t[9]||(t[9]=l("h6",{class:"text-h6"},"Shipped",-1)),z.value==0?(r(),i("p",nt,"0 invoices")):(r(),i("p",it,v(z.value)+" invoices",1)),t[10]||(t[10]=l("h5",{class:"text-14 lh-normal"},"$23,110.23",-1))])],2)]),_:1}),e(C,{cols:"10",md:"3",sm:"6"},{default:o(()=>[l("div",{class:I(["pa-6 d-flex ga-3 align-center cursor-pointer rounded-xl",{"bg-bglight":u.value==="Delivered"}]),onClick:t[2]||(t[2]=s=>b("Delivered"))},[e(x,{size:"56",class:"border border-md border-info"},{default:o(()=>[e(c(m),{icon:"solar:map-point-wave-linear",height:"25",class:"text-info"})]),_:1}),l("div",null,[t[11]||(t[11]=l("h6",{class:"text-h6"},"Delivered",-1)),F.value==0?(r(),i("p",rt,"0 invoices")):(r(),i("p",dt,v(F.value)+" invoices",1)),t[12]||(t[12]=l("h5",{class:"text-14 lh-normal"},"$13,825.05",-1))])],2)]),_:1}),e(C,{cols:"10",md:"3",sm:"6"},{default:o(()=>[l("div",{class:I(["pa-6 d-flex ga-3 align-center cursor-pointer rounded-xl",{"bg-bglight":u.value==="Pending"}]),onClick:t[3]||(t[3]=s=>b("Pending"))},[e(x,{size:"56",class:"border border-md border-warning"},{default:o(()=>[e(c(m),{icon:"solar:camera-rotate-broken",height:"25",class:"text-warning"})]),_:1}),l("div",null,[t[13]||(t[13]=l("h6",{class:"text-h6"},"Pending",-1)),P.value==0?(r(),i("p",ut,"0 invoices")):(r(),i("p",ct,v(P.value)+" invoices",1)),t[14]||(t[14]=l("h5",{class:"text-14 lh-normal"},"$4,655.63",-1))])],2)]),_:1})]),_:1})]),l("div",vt,[l("div",pt,[e(E,{width:"255",class:"mb-lg-0 mb-4"},{default:o(()=>[e(U,{modelValue:y.value,"onUpdate:modelValue":t[4]||(t[4]=s=>y.value=s),label:"Search Invoice",variant:"outlined","hide-details":"",class:"w-100",density:"compact"},{"prepend-inner":o(()=>[e(c(m),{icon:"solar:magnifer-linear",height:"18",width:"25"})]),_:1},8,["modelValue"])]),_:1}),e(L,{color:"primary",rounded:"pill",flat:"",to:"/apps/invoice/create"},{default:o(()=>t[15]||(t[15]=[p("New Invoice")])),_:1})]),e(Z,{class:"invoice-table"},{default:o(()=>[l("thead",null,[l("tr",null,[l("th",mt,[e(B,{"hide-details":"",color:"primary"})]),t[16]||(t[16]=l("th",{class:"text-14 text-no-wrap"},"ID",-1)),t[17]||(t[17]=l("th",{class:"text-14 text-no-wrap"},"BILL FROM",-1)),t[18]||(t[18]=l("th",{class:"text-14 text-no-wrap"},"BILL TO",-1)),t[19]||(t[19]=l("th",{class:"text-14 text-no-wrap"},"TOTAL COST",-1)),t[20]||(t[20]=l("th",{class:"text-14 text-no-wrap"},"STATUS",-1)),t[21]||(t[21]=l("th",{class:"text-14 text-no-wrap text-center"},"ACTION",-1))])]),l("tbody",null,[(r(!0),i($,null,tt(c(_),s=>(r(),i("tr",{key:s.id},[l("td",null,[e(B,{color:"primary","hide-details":""})]),l("td",ft,v(s.id),1),l("td",_t,v(s.billFrom),1),l("td",xt,v(s.billTo),1),l("td",gt,v(c(h).grandTotal(s)),1),l("td",null,[e(Y,{rounded:"pill",color:s.status==="Shipped"?"success":s.status==="Delivered"?"info":s.status==="Pending"?"warning":"primary",variant:"flat",size:"small",label:""},{default:o(()=>[p(v(s.status),1)]),_:2},1032,["color"])]),l("td",null,[l("div",ht,[e(D,{to:`/apps/invoice/edit/${s.id}`},{default:o(()=>[e(x,{color:"lightsuccess",size:"32"},{default:o(()=>[e(c(m),{icon:"solar:pen-linear",class:"text-success",height:"18"})]),_:1}),e(T,{activator:"parent",location:"bottom"},{default:o(()=>t[22]||(t[22]=[p("Edit Invoice")])),_:1})]),_:2},1032,["to"]),e(D,{to:`/apps/invoice/details/${s.id}`},{default:o(()=>[e(x,{color:"lightprimary",size:"32"},{default:o(()=>[e(c(m),{icon:"solar:eye-linear",class:"text-primary",height:"18"})]),_:1}),e(T,{activator:"parent",location:"bottom"},{default:o(()=>t[23]||(t[23]=[p("View Invoice")])),_:1})]),_:2},1032,["to"]),e(D,{to:"",onClick:et(wt=>j(s.id),["stop"]),class:"cursor-pointer"},{default:o(()=>[e(x,{color:"lighterror",size:"32"},{default:o(()=>[e(c(m),{icon:"solar:trash-bin-minimalistic-linear",class:"text-error",height:"18"})]),_:1}),e(T,{activator:"parent",location:"bottom"},{default:o(()=>t[24]||(t[24]=[p("Delete Invoice")])),_:1})]),_:2},1032,["onClick"])])])]))),128))])]),_:1})])]),_:1})]),_:1}),e(K,{modelValue:f.value,"onUpdate:modelValue":t[6]||(t[6]=s=>f.value=s),"max-width":"500px"},{default:o(()=>[e(N,null,{default:o(()=>[e(G,{class:"pa-4 bg-primary"},{default:o(()=>t[25]||(t[25]=[p("Delete Invoice")])),_:1}),e(H,null,{default:o(()=>t[26]||(t[26]=[l("h5",{class:"text-16"},"Are you sure you want to delete this invoice?",-1)])),_:1}),e(J,null,{default:o(()=>[e(L,{color:"primary",class:"px-4",variant:"flat",rounded:"pill",onClick:M},{default:o(()=>t[27]||(t[27]=[p("Yes, Delete")])),_:1}),e(L,{color:"error",variant:"flat",rounded:"pill",class:"px-4",onClick:t[5]||(t[5]=s=>f.value=!1)},{default:o(()=>t[28]||(t[28]=[p("Cancel")])),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64)}}}),Lt=O({__name:"index",setup(A){const h=g({title:"Invoice List"}),f=g([{text:"Dashboard",disabled:!1,href:"#"},{text:"Invoice List",disabled:!0,href:"#"}]);return(w,d)=>(r(),i($,null,[e(Q,{title:h.value.title,breadcrumbs:f.value},null,8,["title","breadcrumbs"]),e(bt)],64))}});export{Lt as default};
