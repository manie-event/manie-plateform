import{_ as H}from"./PlOpQ4f_.js";/* empty css        */import{u as J}from"./C2jo2H09.js";import{I as K}from"./D2X2cPyH.js";import{d as N,k as V,bS as Q,D as b,r as d,l as X,b as w,w as s,e as t,f as l,t as _,m as x,g as n,c as I,F as q,q as Y,bW as Z}from"./DRerZXE8.js";import{f as ee}from"./B3eN9cTt.js";import"./BnmvVxQc.js";const te={class:"textSecondary text-14"},le={class:"textSecondary text-14"},oe={class:"bg-bglight mt-6 pa-6 rounded-md"},se={class:"text-no-wrap"},ae={width:"300",class:"text-no-wrap"},de={width:"150",class:"text-no-wrap"},ne={width:"150",class:"text-no-wrap"},ie={width:"150",class:"text-14 text-no-wrap"},re={class:"text-end text-no-wrap"},ue={class:"d-flex align-center justify-space-between text-14 font-weight-semibold mb-4"},me={class:"text-16"},ce={class:"d-flex align-center justify-space-between text-14 font-weight-semibold mb-4"},pe={class:"text-16"},_e={class:"d-flex align-center justify-space-between text-14 font-weight-semibold"},ve={class:"text-16"},fe={class:"d-flex align-center justify-end ga-3"},be=.1,xe=N({__name:"Create",setup(B){const m=J(),v=V(!1),T=Q(),g=b(()=>m.invoice.length>0?Math.max(...m.invoice.map(i=>i.id))+1:1),o=V({id:g.value,billFrom:"",billTo:"",billFromAddress:"",billToAddress:"",totalCost:0,status:"Pending",orderDate:new Date,orders:[{itemName:"",unitPrice:0,units:0,unitTotalPrice:0}]}),R=["Pending","Shipped","Delivered"],r=[i=>!!i||"This field is required"],h=b(()=>(o.value.orders??[]).reduce((i,e)=>i+(e.unitPrice??0)*(e.units??0),0)),C=b(()=>h.value*be),U=b(()=>h.value+C.value),S=()=>{v.value?(o.value.id=g.value,o.value.orderDate=new Date,o.value.totalCost=U.value,m.addInvoice(o.value),T.push("/apps/invoice")):console.log("Form is invalid")},j=()=>{o.value.orders=o.value.orders??[],o.value.orders.push({itemName:"",unitPrice:0,units:0,unitTotalPrice:0})},z=i=>{o.value.orders=o.value.orders??[],o.value.orders.splice(i,1)};return(i,e)=>{const f=d("v-label"),u=d("v-text-field"),c=d("v-col"),M=d("v-select"),D=d("v-row"),A=d("v-tooltip"),y=d("v-btn"),L=d("v-avatar"),$=d("RouterLink"),E=d("v-table"),O=d("v-form"),G=d("v-card-item"),W=d("v-card");return w(),X(W,{elevation:"10"},{default:s(()=>[t(G,null,{default:s(()=>{var P,k;return[e[19]||(e[19]=l("h5",{class:"text-20 mb-7"},"Add New Invoice Details",-1)),l("p",te,"ID: "+_(o.value.id),1),l("p",le," Date: "+_((P=o.value)!=null&&P.orderDate?x(ee)(new Date((k=o.value)==null?void 0:k.orderDate),"E, MMM dd, yyyy"):"N/A"),1),t(O,{ref:"formRef",modelValue:v.value,"onUpdate:modelValue":e[5]||(e[5]=a=>v.value=a),"lazy-validation":""},{default:s(()=>[l("div",oe,[t(D,null,{default:s(()=>[t(c,{cols:"12",md:"4"},{default:s(()=>[t(f,{class:"font-weight-semibold pb-2"},{default:s(()=>e[6]||(e[6]=[n("Bill From",-1)])),_:1,__:[6]}),t(u,{"hide-details":"",modelValue:o.value.billFrom,"onUpdate:modelValue":e[0]||(e[0]=a=>o.value.billFrom=a),rules:r,required:""},null,8,["modelValue"])]),_:1}),t(c,{cols:"12",md:"4"},{default:s(()=>[t(f,{class:"font-weight-semibold pb-2"},{default:s(()=>e[7]||(e[7]=[n("Bill To",-1)])),_:1,__:[7]}),t(u,{modelValue:o.value.billTo,"onUpdate:modelValue":e[1]||(e[1]=a=>o.value.billTo=a),rules:r,required:"","hide-details":""},null,8,["modelValue"])]),_:1}),t(c,{cols:"12",md:"4"},{default:s(()=>[t(f,{class:"font-weight-semibold pb-2"},{default:s(()=>e[8]||(e[8]=[n("Status",-1)])),_:1,__:[8]}),t(M,{modelValue:o.value.status,"onUpdate:modelValue":e[2]||(e[2]=a=>o.value.status=a),"hide-details":"",items:R,required:"",disabled:!0},null,8,["modelValue"])]),_:1}),t(c,{cols:"12",md:"6"},{default:s(()=>[t(f,{class:"font-weight-semibold pb-2"},{default:s(()=>e[9]||(e[9]=[n("From Address",-1)])),_:1,__:[9]}),t(u,{modelValue:o.value.billFromAddress,"onUpdate:modelValue":e[3]||(e[3]=a=>o.value.billFromAddress=a),rules:r,required:"","hide-details":""},null,8,["modelValue"])]),_:1}),t(c,{cols:"12",md:"6"},{default:s(()=>[t(f,{class:"font-weight-semibold pb-2"},{default:s(()=>e[10]||(e[10]=[n("Bill To Address",-1)])),_:1,__:[10]}),t(u,{modelValue:o.value.billToAddress,"onUpdate:modelValue":e[4]||(e[4]=a=>o.value.billToAddress=a),rules:r,required:"","hide-details":""},null,8,["modelValue"])]),_:1})]),_:1})]),t(E,{class:"invoice-table mt-6"},{default:s(()=>[e[13]||(e[13]=l("thead",null,[l("tr",null,[l("th",{class:"text-14 text-no-wrap"}),l("th",{class:"text-14 text-no-wrap"},"Item Name"),l("th",{class:"text-14 text-no-wrap"},"Unit Price"),l("th",{class:"text-14 text-no-wrap"},"Units"),l("th",{class:"text-14 text-no-wrap"},"Total Cost"),l("th",{class:"text-14 text-no-wrap text-end"},"Actions")])],-1)),l("tbody",null,[(w(!0),I(q,null,Y(o.value.orders,(a,F)=>(w(),I("tr",{key:F},[l("td",se,[t(y,{flat:"",icon:"",color:"lightprimary",size:"x-small",onClick:j,class:"ms-3"},{default:s(()=>[t(x(Z),{class:"text-primary",size:"18"}),t(A,{activator:"parent",location:"bottom"},{default:s(()=>e[11]||(e[11]=[n("Add Item",-1)])),_:1,__:[11]})]),_:1})]),l("td",ae,[t(u,{label:"Item Name","hide-details":"",modelValue:a.itemName,"onUpdate:modelValue":p=>a.itemName=p,rules:r,required:"",class:"py-4",width:"300"},null,8,["modelValue","onUpdate:modelValue"])]),l("td",de,[t(u,{modelValue:a.unitPrice,"onUpdate:modelValue":p=>a.unitPrice=p,label:"Unit Price",rules:r,required:"","hide-details":"",width:"150",type:"number"},null,8,["modelValue","onUpdate:modelValue"])]),l("td",ne,[t(u,{modelValue:a.units,"onUpdate:modelValue":p=>a.units=p,label:"Units",rules:r,required:"","hide-details":"",width:"150",type:"number"},null,8,["modelValue","onUpdate:modelValue"])]),l("td",ie,_(x(m).grandTotal(o.value)),1),l("td",re,[t($,{to:"",class:"cursor-pointer me-lg-3"},{default:s(()=>[t(L,{color:"lighterror",size:"32",onClick:p=>z(F)},{default:s(()=>[t(x(K),{icon:"solar:trash-bin-minimalistic-linear",class:"text-error",height:"18"})]),_:2},1032,["onClick"]),t(A,{activator:"parent",location:"bottom"},{default:s(()=>e[12]||(e[12]=[n("Delete Invoice",-1)])),_:1,__:[12]})]),_:2},1024)])]))),128))])]),_:1}),t(D,{class:"d-flex justify-end border-t mt-1"},{default:s(()=>[t(c,{cols:"12",md:"3",class:"mt-3 ps-lg-16"},{default:s(()=>[l("div",ue,[e[14]||(e[14]=l("p",{class:"text-muted"},"Sub Total:",-1)),l("p",me,_(h.value),1)]),l("div",ce,[e[15]||(e[15]=l("p",{class:"text-muted"},"Vat:",-1)),l("p",pe,_(C.value),1)]),l("div",_e,[e[16]||(e[16]=l("p",{class:"text-muted"},"Grand Total:",-1)),l("p",ve,_(U.value),1)])]),_:1})]),_:1}),l("div",fe,[t(y,{flat:"",color:"primary",onClick:S,class:"mt-6",rounded:"pill"},{default:s(()=>e[17]||(e[17]=[n("Create Invoice",-1)])),_:1,__:[17]}),t(y,{flat:"",color:"error",to:"/apps/invoice",class:"mt-6",rounded:"pill"},{default:s(()=>e[18]||(e[18]=[n("Cancel",-1)])),_:1,__:[18]})])]),_:1},8,["modelValue"])]}),_:1,__:[19]})]),_:1})}}}),Ce=N({__name:"index",setup(B){const m=V({title:"Create Invoice"}),v=V([{text:"Dashboard",disabled:!1,href:"#"},{text:"Create Invoice",disabled:!0,href:"#"}]);return(T,g)=>(w(),I(q,null,[t(H,{title:m.value.title,breadcrumbs:v.value},null,8,["title","breadcrumbs"]),t(xe)],64))}});export{Ce as default};
