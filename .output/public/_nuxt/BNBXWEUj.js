import"./CyXQxhwq.js";import{u as C}from"./kkF_28Ko.js";import{h as m,s as P,u as g}from"./DkNnpBgi.js";import{u as h}from"./BKs1zNTn.js";const S=()=>{const c=C("token"),n=m(),{setClientProfile:f,updateClientProfile:p}=n,{clientProfile:r,isProfileCreated:d}=P(n),s=g(),t=h(),l=async()=>{var o;const e=await(t==null?void 0:t.get(`${s.public.apiUrl}/organisator`));if(e)return f(e.data),localStorage.setItem("clientProfile",e.data.uuid),console.log((o=r.value)==null?void 0:o.uuid,"Client profile response fetched"),e};return{getClientProfil:l,patchClientProfil:async e=>{var u;const o=(u=r.value)==null?void 0:u.uuid,i=await(t==null?void 0:t.patch(`${s.public.apiUrl}/organisator/${o}`,e,{headers:{Authorization:`Bearer ${c.value}`,"Content-Type":"application/json"}}));if(i!=null&&i.data){const a=await l();return p(a==null?void 0:a.data),d.value=!0,i.data}}}};export{S as u};
