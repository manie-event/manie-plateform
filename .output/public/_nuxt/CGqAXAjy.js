import{d as g,c as n,b as i,f as s,L as _,m as r,y as v,C as y,b$ as B,k as c,o as I,al as R,e as w,n as C,t as E,w as b}from"./tuwxSyZN.js";import{L as U}from"./eg4SoLzD.js";import{u as V}from"./BfKbh6Ci.js";import"./DJAGGwEC.js";import"./Mu8HO9gZ.js";const j=""+new URL("blog-bg-2x.C-WYfrYq.jpg",import.meta.url).href,k=""+new URL("logo-manie-creme.27uY6JG2.svg",import.meta.url).href,M={class:"base-component"},N={class:"image-container"},S=["src"],D={class:"content"},P=g({__name:"BaseSidePicture",setup(p){return(o,a)=>(i(),n("div",M,[s("div",N,[_(o.$slots,"bg-image",{},()=>[a[0]||(a[0]=s("img",{src:j,alt:"Default",class:"bg-img"},null,-1))],!0),_(o.$slots,"logo",{},()=>[s("img",{src:r(k),alt:"logo manie",class:"manie-logo"},null,8,S)],!0)]),s("div",D,[_(o.$slots,"description",{},void 0,!0)])]))}}),W=v(P,[["__scopeId","data-v-8c931ca5"]]),Y=""+new URL("check-email.BWRWztMi.jpg",import.meta.url).href,z=""+new URL("good-verification.DMFiIdFa.svg",import.meta.url).href,F=["src"],q=g({__name:"Loader",setup(p){return(o,a)=>(i(),n("div",null,[s("img",{src:r(U),alt:"",class:"loader"},null,8,F)]))}}),A=v(q,[["__scopeId","data-v-c27318aa"]]),G={class:"verify-email__container"},J={class:"verify-email__message"},T={key:0},H={key:1},K=["src"],O={class:"text-green-600"},Q={class:"mt-6 text-sm"},X=["src"],Z=["src"],ee=g({__name:"[token]",setup(p){const o=y(),a=B(),$=o.params.token,{checkEmail:L}=V(),f=c(!0),l=c(!1),x=c(""),m=c(3);let d;return I(async()=>{var u,t,h;try{const e=await L($);if((e==null?void 0:e.message)==="Email verified"||(u=e==null?void 0:e.message)!=null&&u.toLowerCase().includes("verified"))l.value=!0,setTimeout(()=>a.push("/auth/login"),3e3);else throw new Error((e==null?void 0:e.message)||"Erreur inconnue")}catch(e){x.value=((h=(t=e==null?void 0:e.response)==null?void 0:t.data)==null?void 0:h.message)||(e==null?void 0:e.message)}finally{f.value=!1}d=window.setInterval(()=>{m.value>0&&l.value?m.value--:clearInterval(d)},1e3)}),R(()=>{clearInterval(d)}),(u,t)=>(i(),n("div",G,[s("div",J,[f.value?(i(),n("div",T,[w(A)])):l.value?(i(),n("div",H,[s("img",{src:r(z),alt:"",width:"70"},null,8,K),t[2]||(t[2]=s("h1",{class:"text-2xl font-bold mb-4"},"Bonjour à toi,",-1)),s("div",O,[t[0]||(t[0]=s("h3",null,"Nous venons de vérifier ton email.",-1)),t[1]||(t[1]=s("h3",{class:"mt-2 text-sm"},"L'aventure commence ici",-1)),s("p",Q,E(`Vous allez être rediriger vers la page d'identification dans ${m.value} secondes `),1)])])):C("",!0)]),w(W,null,{"bg-image":b(()=>[s("img",{src:r(Y),alt:"",style:{width:"100%",height:"100%","object-fit":"cover","border-radius":"5px"}},null,8,X)]),logo:b(()=>[s("img",{src:r(k),alt:"",class:"manie-logo"},null,8,Z)]),_:1})]))}}),ie=v(ee,[["__scopeId","data-v-a5f45079"]]);export{ie as default};
