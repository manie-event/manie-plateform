import{B as W,C as X,E as h,D as Y,d as N,l as k,r as l,g as V,a as v,w as s,e as d,h as H,c as E,b as a,t as S,f as x,u as M,q as J,T as Z,p as Q,F as R,G as tt,o as et,A as at}from"./CHEumwGj.js";import{_ as lt}from"./OkiM4xzM.js";import{f as st}from"./vPlDJCzc.js";import"./LWOCnKRZ.js";const L=W({id:"tasks",state:()=>({tasks:[],taskContent:"1"}),actions:{async fetchTasks(){try{const t=await Y.get("/api/data/task/TaskData");this.tasks=t.data}catch(t){alert(t),console.log(t)}},SelectTask(t){this.taskContent=t},deleteTask(t){const i=this.tasks.map(u=>{var r;const _=(r=u.tasks)==null?void 0:r.filter(c=>c.id!==t);return{...u,tasks:_}});this.tasks=i},addTask(t,i,u,_,r){const c={id:h.uniqueId("#task_"),title:i,subtitle:u,category:_,date:X(new Date,{seconds:1}),categorybg:r};this.tasks=h.map(this.tasks,e=>e.id===t?{...e,...e.tasks.push(c)}:e)}}}),ot={class:"d-flex align-center justify-space-between px-4 py-2 pr-3"},nt={class:"text-subtitle-2 font-weight-semibold pr-4 cursor-move"},it={key:1,class:"text-subtitle-2 px-4"},dt={class:"d-flex align-center justify-space-between px-4 py-3"},ut={class:"d-flex align-center"},rt={class:"body-text-1 text-dark pl-2"},ct=N({__name:"TaskItemCard",props:{task:null},setup(t){const i=k(!1),u=L();function _(){return i.value=!1}function r(){return i.value=!1}return(c,e)=>{const f=l("DotsVerticalIcon"),b=l("v-list-item-title"),p=l("v-list-item"),D=l("v-list"),O=l("v-menu"),o=lt,j=l("v-text-field"),B=l("v-textarea"),$=l("v-select"),I=l("v-btn"),q=l("v-card-text"),U=l("v-card"),z=l("v-dialog"),F=l("v-img"),G=l("CalendarIcon");return v(),V(U,{elevation:"10",class:"mb-5"},{default:s(()=>{var y,A,T,w,C,n,g,P;return[d("div",ot,[d("h5",nt,S((y=t.task)==null?void 0:y.title),1),a(o,{to:"",class:"px-0 cursor-pointer"},{default:s(()=>[a(f,{size:"15"}),a(O,{activator:"parent"},{default:s(()=>[a(D,{density:"compact"},{default:s(()=>[a(p,{value:"Edit"},{default:s(()=>[a(b,{onClick:e[0]||(e[0]=m=>i.value=!0)},{default:s(()=>e[7]||(e[7]=[x("Edit",-1)])),_:1,__:[7]})]),_:1}),a(p,{value:"Delete"},{default:s(()=>[a(b,{onClick:e[1]||(e[1]=m=>{var K;return M(u).deleteTask((K=t.task)==null?void 0:K.id)})},{default:s(()=>e[8]||(e[8]=[x("Delete",-1)])),_:1,__:[8]})]),_:1})]),_:1})]),_:1})]),_:1}),a(z,{modelValue:i.value,"onUpdate:modelValue":e[6]||(e[6]=m=>i.value=m),"max-width":"500"},{default:s(()=>[a(U,null,{default:s(()=>[a(q,{class:"mb-4"},{default:s(()=>[e[11]||(e[11]=d("h4",{class:"text-h6 mb-5"},"Edit Task",-1)),a(j,{outlined:"",name:"Task",modelValue:t.task.title,"onUpdate:modelValue":e[2]||(e[2]=m=>t.task.title=m),label:"Title"},null,8,["modelValue"]),a(B,{outlined:"",name:"Task-subtitle",modelValue:t.task.subtitle,"onUpdate:modelValue":e[3]||(e[3]=m=>t.task.subtitle=m),label:"Subtitle"},null,8,["modelValue"]),a($,{label:"Select",modelValue:t.task.category,"onUpdate:modelValue":e[4]||(e[4]=m=>t.task.category=m),variant:"outlined",items:["Mobile","Design","Development"]},null,8,["modelValue"]),a($,{label:"Select",modelValue:t.task.categorybg,"onUpdate:modelValue":e[5]||(e[5]=m=>t.task.categorybg=m),variant:"outlined",items:["primary","warning","success","error"]},null,8,["modelValue"]),a(I,{color:"primary",class:"rounded-pill mr-2",variant:"flat",onClick:_},{default:s(()=>e[9]||(e[9]=[x("Save",-1)])),_:1,__:[9]}),a(I,{color:"error",variant:"flat",class:"rounded-pill",onClick:r},{default:s(()=>e[10]||(e[10]=[x("Cancel",-1)])),_:1,__:[10]})]),_:1,__:[11]})]),_:1})]),_:1},8,["modelValue"])]),(A=t.task)!=null&&A.taskimg?(v(),V(F,{key:0,src:(T=t.task)==null?void 0:T.taskimg,height:"110px",cover:"",class:"w-100 mb-3"},null,8,["src"])):H("",!0),(w=t.task)!=null&&w.subtitle?(v(),E("p",it,S((C=t.task)==null?void 0:C.subtitle),1)):H("",!0),d("div",dt,[d("div",ut,[a(G,{size:"16"}),d("div",rt,S(M(st)(new Date((n=t.task)==null?void 0:n.date),{addSuffix:!1}))+" ago ",1)]),d("div",{class:J("rounded-sm body-text-1 px-1 py-0 bg-"+((g=t.task)==null?void 0:g.categorybg)),size:"small"},S((P=t.task)==null?void 0:P.category),3)])]}),_:1})}}}),mt={class:"pa-5"},vt={class:"d-flex align-center justify-space-between"},_t={class:"text-h6 font-weight-semibold"},ft=["task"],pt=N({__name:"TaskColumn",props:{column:Object},setup(t){var D;const i=t,u=k(!1),_=L(),r=k(""),c=k(""),e=k("Mobile"),f=k("primary"),b=k((D=i.column)==null?void 0:D.id);function p(){r.value="",c.value="",e.value="Mobile",f.value="primary"}return(O,o)=>{var T;const j=l("v-tooltip"),B=l("PlusIcon"),$=l("v-avatar"),I=l("draggable"),q=l("v-text-field"),U=l("v-textarea"),z=l("v-select"),F=l("v-btn"),G=l("v-card-text"),y=l("v-card"),A=l("v-dialog");return v(),V(y,{elevation:"10",class:J("bg-"+((T=t.column)==null?void 0:T.cardbg))},{default:s(()=>{var w,C;return[d("div",mt,[d("div",vt,[d("h6",_t,S((w=t.column)==null?void 0:w.title),1),a($,{size:"22",elevation:"10",class:"bg-surface d-flex align-center cursor-pointer",onClick:o[0]||(o[0]=n=>u.value=!0)},{default:s(()=>[a(j,{activator:"parent",location:"top"},{default:s(()=>o[8]||(o[8]=[x("Add Task ",-1)])),_:1,__:[8]}),a(B,{size:"13","stroke-width":"2"})]),_:1})]),a(I,{class:"dragArea list-group mt-6",list:(C=t.column)==null?void 0:C.tasks,animation:200,"ghost-class":"ghost-card",group:"tasks"},{default:s(()=>[a(Z,null,{default:s(()=>{var n;return[(v(!0),E(R,null,Q((n=t.column)==null?void 0:n.tasks,g=>(v(),E("div",{key:g.id,task:g,class:"mt-3 cursor-move"},[a(ct,{task:g},null,8,["task"])],8,ft))),128))]}),_:1})]),_:1},8,["list"])]),a(A,{modelValue:u.value,"onUpdate:modelValue":o[7]||(o[7]=n=>u.value=n),"max-width":"500"},{default:s(()=>[a(y,null,{default:s(()=>[a(G,{class:"mb-4"},{default:s(()=>[o[10]||(o[10]=d("h4",{class:"text-h6 mb-5"},"Add Task",-1)),d("form",{onSubmit:o[6]||(o[6]=tt(n=>(M(_).addTask(b.value,r.value,c.value,e.value,f.value),p()),["prevent"]))},[a(q,{outlined:"",name:"Task",modelValue:r.value,"onUpdate:modelValue":o[1]||(o[1]=n=>r.value=n),label:"Title"},null,8,["modelValue"]),a(U,{outlined:"",name:"Task-subtitle",modelValue:c.value,"onUpdate:modelValue":o[2]||(o[2]=n=>c.value=n),label:"Subtitle"},null,8,["modelValue"]),a(z,{label:"Select",modelValue:e.value,"onUpdate:modelValue":o[3]||(o[3]=n=>e.value=n),variant:"outlined",items:["Mobile","Design","Development"]},null,8,["modelValue"]),a(z,{label:"Select",modelValue:f.value,"onUpdate:modelValue":o[4]||(o[4]=n=>f.value=n),variant:"outlined",items:["primary","warning","success","error"]},null,8,["modelValue"]),a(F,{color:"primary",class:"rounded-pill",variant:"flat",type:"submit",disabled:r.value=="",onClick:o[5]||(o[5]=n=>u.value=!1)},{default:s(()=>o[9]||(o[9]=[x("Save",-1)])),_:1,__:[9]},8,["disabled"])],32)]),_:1,__:[10]})]),_:1})]),_:1},8,["modelValue"])]}),_:1},8,["class"])}}}),kt={class:"pa-5"},bt=N({__name:"TaskCard",setup(t){const i=L();et(()=>{i.fetchTasks()});const _=at(()=>i.tasks);return(r,c)=>{const e=l("v-col"),f=l("v-row"),b=l("v-card");return v(),V(b,{elevation:"10"},{default:s(()=>[d("div",kt,[c[0]||(c[0]=d("h5",{class:"text-h5 font-weight-semibold mb-7"},"Kanban Application",-1)),a(f,null,{default:s(()=>[(v(!0),E(R,null,Q(M(_),p=>(v(),V(e,{cols:"12",md:"3",sm:"6",class:"d-flex",key:p.id},{default:s(()=>[a(pt,{column:p},null,8,["column"])]),_:2},1024))),128))]),_:1})])]),_:1})}}}),Tt=N({__name:"index",setup(t){return(i,u)=>(v(),V(bt))}});export{Tt as default};
